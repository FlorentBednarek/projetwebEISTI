{"version":3,"sources":["NavBar/images/logo.png","NavBar/NavBar.js","Accueil/Login.js","Accueil/Register.js","Accueil/Acceuil.js","Profil/Slider.js","PhotosProfil/CropImage.js","PhotosProfil/PhotosProfil.js","PhotosProfil/EditProfilePhoto.js","Profil/Preference.js","Profil/Filtre.js","Position/Position.js","messagerie/draggableMessagerie.js","messagerie/message.js","messagerie/listeMatch.js","CardId/CardId.js","Pageprincipale/Pageprincipale.js","About/About.js","Contact/Contact.js","AdminCarte/TableauCarteId.js","AdminCarte/TableauManage.js","AdminCarte/AdminCarte.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","NavBar","props","toggleNavbar","bind","state","collapsed","this","setState","classOne","classTwo","className","to","src","logo","alt","width","height","onClick","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","Component","Login","alertShow","alertMessage","alertVariant","email","password","connected","event","preventDefault","axios","require","default","sha256","url","URL_API","toLowerCase","get","then","res","data","Cookies","set","key","console","log","catch","err","target","name","value","Alert","variant","show","onClose","dismissible","onSubmit","sendLogin","placeholder","onChange","inputChange","Register","verifPassword","prenom","nom","dateBirth","ville","StudentCard","comptStrenghMdp","alertClass","context","lat","long","etape","curr","Date","setDate","getDate","toISOString","substr","mdp","maj","min","chi","spe","i","length","indexOf","positionArobase","verif","formData","FormData","append","post","error","files","reader","FileReader","readAsDataURL","onload","e","features","properties","city","geometry","coordinates","verifStrength","sendAccount","htmlFor","inputChangeVille","maxLength","max","fifteenYearsAgo","inputChangePassword","style","display","marginLeft","marginTop","borderTopLeftRadius","borderBottomLeftRadius","background","borderTopRightRadius","borderBottomRightRadius","sendCard","color","inputChangeStudentCard","href","Accueil","verifConnexion","config","headers","logginid","logginkey","connect","etat","changeShow","aria-hidden","RangeSlider","intervalles","intervalle","newValue","onSliderAgeChange","Typography","gutterBottom","Slider","handleChange","valueLabelDisplay","aria-labelledby","React","ImageCrop","imageSrc","onCrop","setEditorRef","scaleValue","onScaleChange","image","border","scale","ref","step","PhotosProfil","editor","DataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","profileImageChange","fileChangeEvent","undefined","endsWith","selectedImage","getImage","toDataURL","userProfilePic","scaleValueEvent","parseFloat","percentage","onUploadProgress","ProgressEvent","loaded","total","percent","Math","floor","isCropping","remove","accept","disabled","ProgressBar","animated","now","label","EditProfilePhoto","trashIcon","viewBox","fill","xmlns","d","fillRule","cropp","crop","initTabImage","tabImage","num","deletion","supprImage","Preference","TrancheAge","JeSuis","JeCherche","But","Description","Ville","Latitude","Longitude","Contexte","NomVille","Etudes","Taille","Yeux","Cheveux","Sport","Alcool","Tabac","Animaux","Religion","Astro","init","handleChangeLookingFor","handleChangeSexe","initPref","tabCoor","tabPref","gps","tabAge","trancheAge","jeSuis","jeCherche","butRencontre","parseInt","bio","etude","taille","yeux","cheveux","sport","alcool","tabac","animaux","religion","astro","certif","status","sendPref","checked","resize","rows","cols","Filtre","checkedA","showFiltreEtude","TabEtudes","handleChangeEtude","handleClickIn","handleClickOut","isChecked","FormGroup","row","FormControlLabel","labelPlacement","control","Switch","Position","couleur","compteur","throttle","f","token","lastArgs","invoke","result","args","requestAnimationFrame","cancel","cancelAnimationFrame","Draggable","_relX","_relY","_ref","createRef","_onMouseDown","button","document","body","scrollLeft","scrollTop","clientLeft","clientTop","current","getBoundingClientRect","left","top","pageX","pageY","addEventListener","_onMouseMove","_onMouseUp","removeEventListener","onMove","_update","x","y","transform","children","ListMessages","_move","list","message","messages","sendMessage","formdata","id2","affMessage","ret","slice","map","el","interval","setInterval","getMessage","ListMatch","borderRadius","handleClick","loadMyMatch","affMatch","CardId","tabInfo","oldId","initTabsState","hisId","ageCalcul","calculDistance","myCoor","coor1","coor2","tabCoor1","tabCoor2","getDistance","latitude","longitude","birthday","dateActu","age","getFullYear","getMonth","Card","Carousel","Item","Body","overflowY","Title","Subtitle","Text","Pageprincipale","pref","tabPersonne","currentIndex","panel","grade","loadTableauPersonne","idAutre","alert","dislikes","likes","acceptedLike","createMatch","tab","deconnect","test","backgroundColor","like","dislike","About","Contact","TableauCarteId","tabID","Tableau","Actuel","Prenom","Nom","Id","Extension","updateTab","window","open","reset","extension","alertId","colSpan","PropsToTabHTML","openCarte","certificate","deleteCarte","TableauManage","deleteAccount","AdminCarte","newArray","array","allowed","buttonLabel","setPropsTableau","verifPermission","setComtpeTableau","buttonSwap","App","basename","path","exact","component","Boolean","location","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f704acb6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1e0b9a13.png\";","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport logo from './images/logo.png';\r\n\r\n\r\n\r\n\r\nclass NavBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggleNavbar = this.toggleNavbar.bind(this);\r\n    this.state = {\r\n      collapsed: true,\r\n    };\r\n  }\r\n  toggleNavbar() {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed,\r\n    });\r\n  }\r\n  render() {\r\n    const collapsed = this.state.collapsed;\r\n    const classOne = collapsed ? 'collapse navbar-collapse' : 'collapse navbar-collapse show';\r\n    const classTwo = collapsed ? 'navbar-toggler navbar-toggler-right collapsed' : 'navbar-toggler navbar-toggler-right';\r\n    return (\r\n    <nav className = \"navbar navbar-expand-md bg-grad navbar-dark fixed-top\">\r\n    <div className=\"container\">\r\n    <Link to=\"/\" className=\"navbar-brand\">\r\n    \t<img src={logo} alt=\"logo\" width=\"40px\" height=\"40px\"/>\r\n    </Link>\r\n      <button  onClick={this.toggleNavbar} className={`${classTwo}`} type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\" />\r\n        </button>\r\n        <div className={`${classOne}`} id=\"navbarResponsive\">\r\n          <ul className=\"navbar-nav ml-auto\">\r\n            \r\n            <li className=\"nav-item active\">\r\n              <Link className=\"collapsed nav-link\" to=\"/\">Home </Link>\r\n            </li>\r\n            \r\n            <li className=\"nav-item active\">\r\n              <Link className=\"nav-link\" to=\"/about\">About </Link>\r\n            </li>\r\n            \r\n            <li className=\"nav-item active\">\r\n              <Link className=\"nav-link\" to=\"/contact\">Contact </Link>\r\n            </li>\r\n\r\n          </ul>\r\n        </div>\r\n    </div>\r\n  </nav>\r\n    );\r\n  }\r\n}\r\nexport default NavBar;\r\n\r\n","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Cookies from 'js-cookie';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport {URL_API} from '../App';\r\n\r\nclass Login extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          alertShow: false, alertMessage : \"\", alertVariant:\"\",//Affichage, message et type de l'alerte\r\n          email: \"\", password : \"\", //Input mail et password\r\n          connected : false\r\n        };\r\n      }\r\n\r\n      /**\r\n       * Compare les identifiants avec la base de donnée\r\n       * Si les identifiants existent et sont bon, l'utilisateur est connecté\r\n       * @param {event} event Action du form par le bouton Submit\r\n       */\r\n      sendLogin(event) {\r\n        event.preventDefault();\r\n        const axios = require('axios').default;  //Requêtes HTTP\r\n        const sha256 = require('hash-anything').sha256; //Hash du mdp\r\n        const url = URL_API+'getPrenom.php?mail='+this.state.email.toLowerCase()+'&password='+sha256(this.state.password);\r\n        axios.get(url)\r\n        .then(res => {\r\n          if(res.data.id>0){\r\n            //Se connecter\r\n            Cookies.set(\"ID\",res.data.id);\r\n            Cookies.set(\"KEY\",res.data.key);\r\n            console.log(\"Vous êtes connecté, redirection vers la page principale !\");\r\n            this.setState({\r\n              connected:true\r\n            });\r\n          }else{\r\n            //Affichage en rouge du message de mdp incorrect\r\n            console.log(res);\r\n            this.setState({alertShow:true,alertMessage:\"Adresse mail ou mot de passe incorrect.\",alertVariant:\"danger\"});\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          //Affichage en jaune qu'il y a une erreur dans la requête\r\n          this.setState({alertShow:true,alertMessage:\"Une erreur s'est produite.\",alertVariant:\"warning\"});\r\n        });\r\n      }\r\n     \r\n      /**\r\n       * Met à jour la valeur du form dans lequel l'utilisateur écrit\r\n       * @param {event} event Appuie sur une touche\r\n       */\r\n      inputChange(event) {\r\n        event.preventDefault();\r\n        /* Mise à jour des valeurs des inputs */\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n          [name]: value\r\n        })\r\n      }\r\n\r\n    render(){\r\n        /* Utilisateur redirigé si connecté */\r\n        if(this.state.connected){\r\n          return(<Redirect to='/principale'/>); //Redirection vers la page principale\r\n        }\r\n      return(\r\n        <div>\r\n          {/* Alert affichée lorsque le couple (e-mail,mdp) n'est pas trouvé dans la base de donnée */}\r\n          <Alert\r\n          variant={this.state.alertVariant} \r\n          id=\"AlertIncorrect\" \r\n          show={this.state.alertShow} \r\n          onClose={() => this.setState({alertShow:false})}\r\n          dismissible>\r\n            {this.state.alertMessage}\r\n          </Alert>\r\n\r\n          {/* Formulaire de connexion */}\r\n          <div className=\"container-fluid\">\r\n            <form onSubmit={event => this.sendLogin(event)}>\r\n              <div className=\"row\">\r\n\r\n                <div className=\"col-lg margetop5\">\r\n                  <input className=\"input\"\r\n                    name=\"email\"\r\n                    type=\"text\"\r\n                    placeholder=\"Ton adresse e-mail\"\r\n                    value={this.state.email}\r\n                    onChange={event => this.inputChange(event)} \r\n                  />\r\n                </div>\r\n\r\n\r\n                <div className=\"col-lg margetop5\">\r\n                   <input className=\"input\"\r\n                      name=\"password\"\r\n                      type=\"password\"\r\n                      placeholder=\"Ton mot de passe\"\r\n                      value={this.state.password}\r\n                      onChange={event => this.inputChange(event)} \r\n                    />\r\n                </div>\r\n\r\n              </div>\r\n              <br/>\r\n              <button className=\"btn-login\" type=\"submit\">Connexion</button>\r\n            </form>\r\n            <br/>\r\n          </div>\r\n          {/* Mot de passe oublié, redirection à définir, accueil pour l'instant */}\r\n          <NavLink className=\"text-black\" to=\"/\" >Mot de passe oublié ?</NavLink>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\n\r\nimport {URL_API} from '../App';\r\n\r\nclass Register extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          //Valeur des input email, password, prenom, nom, dateBirth, ville et StudentCard\r\n          email: \"\", password : \"\", verifPassword : \"\", prenom : \"\", nom : \"\", dateBirth : \"\", ville : \"\",\r\n          StudentCard: null,\r\n          comptStrenghMdp:0,\r\n          alertShow:false, alertMessage:\"\", alertClass:\"alert-danger\", //Affichage, type et définition du message de l'alert\r\n          name: \"\", context:null, lat: null, long: null, //Resultat de l'API, ville et coordonnées GPS\r\n          etape: 0 //0 -> Creation du compte; 1 -> Upload carte étudiante; 2 -> Création du compte terminée\r\n        };\r\n      }\r\n\r\n      /**\r\n       * Renvoi la date actuelle à laquelle on a retiré 15*365 jours\r\n       */\r\n      fifteenYearsAgo(){\r\n        let curr = new Date();\r\n        curr.setDate(curr.getDate()-365*15);\r\n        return (curr.toISOString().substr(0,10));\r\n      }\r\n\r\n      verifStrength(mdp){\r\n        const LETTRE_MIN=\"abcdefghijklmnopqrstuvwxyz\";\r\n        const LETTRE_MAJ=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n        const CHIFFRE=\"0123456789\";\r\n        let maj=0,min=0,chi=0,spe=0;\r\n        for(let i=0 ; i<mdp.length ; i++){\r\n          if(LETTRE_MIN.indexOf(mdp[i]) !== -1){\r\n            min=1;\r\n          }else if(LETTRE_MAJ.indexOf(mdp[i]) !== -1){\r\n            maj=1;\r\n          }else if(CHIFFRE.indexOf(mdp[i]) !== -1){\r\n            chi=1;\r\n          }else{\r\n            spe=1;\r\n          }\r\n        }\r\n        console.log(maj+min+chi+spe);\r\n        this.setState({\r\n          comptStrenghMdp:maj+min+chi+spe\r\n        });\r\n      }\r\n\r\n      /**\r\n       * Renvoie vrai si le formulaire est estimé complet et correct\r\n       * Renvoi faux si le formulaire est estimé incomplet ou incorrect\r\n       * Effectue une suite de vérification sur la valeur des inputs\r\n       */\r\n      verif(){ //Vérification de la véracité des données\r\n        let positionArobase= this.state.email.indexOf(\"@\");\r\n        if(this.state.email===\"\"){ //Chaîne vide\r\n          this.setState({alertMessage: \"Votre e-mail n'est pas précisé.\"});\r\n          return false;\r\n        }else if(this.state.email.indexOf(\"@\")===-1){ //Ne contient pas de @\r\n          this.setState({alertMessage: \"Votre e-mail n'est pas correcte.\"});\r\n          return false;\r\n        }else if(!(this.state.email.indexOf(\".com\",positionArobase) !== -1 ||\r\n        this.state.email.indexOf(\".fr\",positionArobase) !== -1 ||\r\n        this.state.email.indexOf(\".eu\",positionArobase) !== -1 ||\r\n        this.state.email.indexOf(\".org\",positionArobase) !== -1 ||\r\n        this.state.email.indexOf(\".net\",positionArobase) !== -1)){ //Ne fini pas par .com/.fr/.eu/.org/.net\r\n          this.setState({alertMessage: \"Votre e-mail doit finir par .com/.fr/.eu/.org/.net.\"});\r\n          return false;\r\n        }\r\n        if(this.state.password.length < 6){ //Taille mdp inférieure à 6\r\n          this.setState({alertMessage: \"Votre mot de passe doit contenir au moins 6 caractères.\"});\r\n          return false;\r\n        }else if(this.state.password!==this.state.verifPassword){\r\n          this.setState({alertMessage: \"Vos mots de passe ne correspondent pas.\"});\r\n          return false;\r\n        }\r\n        if(this.state.nom.length < 2 || this.state.nom.length < 2){ //Taille nom et prenom => 2\r\n          this.setState({alertMessage: \"Vous n'avez pas renseignez votre nom/prénom.\"});\r\n          return false;\r\n        }\r\n        if(this.state.name===\"\"){this.setState({name:this.state.ville});}\r\n        if(this.state.name.length < 2){ //Taille ville => 2\r\n          this.setState({alertMessage: \"Vous n'avez pas renseignez votre ville.\"});\r\n          return false;\r\n        }\r\n        if(this.state.dateBirth===\"\"){\r\n          this.setState({alertMessage: \"Votre date de naissance n'est pas précisée.\"});\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n\r\n      /**\r\n       * Envoie les données du 1er formulaire avec les coordonnées de la ville\r\n       * au serveur pour pouvoir creer un compte\r\n       * @param {event} event Action du 1er form par le bouton Submit\r\n       */\r\n      sendAccount(event) {\r\n        event.preventDefault();\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const sha256 = require('hash-anything').sha256; //Hash du mdp\r\n\r\n        if(!this.verif()){ //Un des champs mal rempli\r\n          this.setState({alertShow:true});\r\n        }else{\r\n          let formData = new FormData();\r\n          formData.append('email',this.state.email.toLowerCase());\r\n          formData.append('password',sha256(this.state.password));\r\n          formData.append('prenom',this.state.prenom);\r\n          formData.append('nom',this.state.nom);\r\n          formData.append('dateBirth',this.state.dateBirth);\r\n          formData.append('ville',this.state.name);\r\n          formData.append('coor',this.state.lat+\";\"+this.state.long);\r\n          const url = URL_API+'newUser.php';\r\n          axios.post(url,formData)\r\n          .then(res => {\r\n            console.log(\"Réponse newUser: \"+res.data);\r\n            if(res.data>=0){\r\n              switch(res.data){\r\n                case 0:\r\n                  this.setState({\r\n                    alertMessage: \"L'adresse mail existe déjà.\",\r\n                    alertClass:\"alert-danger\",\r\n                  });\r\n                  break;\r\n                case 1:\r\n                  this.setState({\r\n                    alertClass:\"alert-primary\",\r\n                    alertMessage: \"Compte crée avec succès !\",\r\n                    etape:1\r\n                  });\r\n                  break;\r\n                default:\r\n                  this.setState({alertMessage: \"La réponse de l'API n'est pas celle attendue.\"});\r\n              }\r\n              this.setState({alertShow: true});\r\n            }else{\r\n              console.error('Problème dans le retour de l\\'API/newUser.');\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n        }\r\n      }\r\n      \r\n      /**\r\n       * Envoie de la valeur du champ file au serveur pour faire vérifier\r\n       * la carte étudiante par les modérateurs\r\n       * @param {event} event Action du 2nd form par le bouton Submit\r\n       */\r\n      sendCard(event){\r\n        event.preventDefault();\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        \r\n        let formData = new FormData();\r\n        formData.append('file',this.state.StudentCard);\r\n        formData.append('email',this.state.email.toLowerCase());\r\n\r\n        const url = URL_API+'setCarteEtudiante.php';\r\n          axios.post(url,formData)\r\n          .then(res => {\r\n            console.log(\"Réponse setCarteEtudiante: \"+res.data);\r\n            if(res.data>=0){\r\n              switch(res.data){\r\n                case 0:\r\n                  this.setState({\r\n                    alertMessage: \"Aucune carte étudiante n'a été envoyée.\",\r\n                    alertClass:\"alert-secondary\",\r\n                    etape:2\r\n                  });\r\n                  break;\r\n                case 1:\r\n                  this.setState({\r\n                    alertClass:\"alert-primary\",\r\n                    alertMessage: \"Carte étudiante envoyée avec succès !\",\r\n                    etape:2\r\n                  });\r\n                  break;\r\n                case 2:\r\n                  this.setState({\r\n                    alertClass:\"alert-danger\",\r\n                    alertMessage: \"Votre image dépasse 2Mo !\",\r\n                  });\r\n                  break;\r\n                case 3:\r\n                  this.setState({\r\n                    alertClass:\"alert-danger\",\r\n                    alertMessage: \"L'extension de votre image n'est pas acceptée !\",\r\n                  });\r\n                  break;\r\n                default:\r\n                  this.setState({alertMessage: \"La réponse de l'API n'est pas celle attendue.\"});\r\n              }\r\n              this.setState({alertShow: true});\r\n            }else{\r\n              this.setState({\r\n              alertClass:\"alert-warning\",\r\n              alertMessage: \"L'image a rencontré un problème durant l'upload.\",\r\n              alertShow: true\r\n              });\r\n              console.error('Problème dans le retour de l\\'API/setCarteEtudiante.');\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n            this.setState({\r\n              alertClass:\"alert-warning\",\r\n              alertMessage: \"La requête/le serveur a rencontré un problème.\",\r\n              alertShow: true\r\n            });\r\n          });\r\n        }\r\n\r\n      /**\r\n       * Change la valeur de l'état StudentCard en fonction du fichier sélectionné\r\n       * @param {event} event Fichier sélectionné\r\n       */\r\n      inputChangeStudentCard(event){\r\n        let files = event.target.files;\r\n        let reader = new FileReader();\r\n        if(files[0]!=null){\r\n          reader.readAsDataURL(files[0]);\r\n          reader.onload=(e)=>{\r\n            this.setState({\r\n              StudentCard:files[0]\r\n            })\r\n            console.log(this.state.StudentCard);\r\n          }\r\n        }else{\r\n          this.setState({\r\n            StudentCard:null\r\n          })\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Propose une ville française selon la valeur du champs ville et mise à\r\n       * jour de ses coordonnées grâce à l'API Adresse du gouvernement\r\n       * @param {event} event Ajout/Suppression d'un caractère dans le champ ville\r\n       */\r\n      inputChangeVille(event){\r\n        event.preventDefault();\r\n        this.setState({\r\n          ville: event.target.value\r\n        })\r\n        if(event.target.value!==\"\"){\r\n          const axios = require('axios').default;\r\n          const url = \"https://api-adresse.data.gouv.fr/search/?q=\"+event.target.value+\"&type=municipality&autocomplete=1\"\r\n          axios.get(url)\r\n          .then(res => {\r\n            if(res.data!==null){\r\n              if(res.data.features[0]!=null){\r\n                this.setState({\r\n                name: res.data.features[0].properties.city,\r\n                lat: res.data.features[0].geometry.coordinates[1],\r\n                long: res.data.features[0].geometry.coordinates[0],\r\n                context: res.data.features[0].properties.context\r\n                })\r\n              }\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n            //Affichage en jaune qu'il y a une erreur dans la requête\r\n            this.setState({alertShow:true,alertMessage:\"Une erreur s'est produite.\",alertVariant:\"warning\"});\r\n          });\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Mettre de lier l'écriture dans les champs aux valeurs correspondantes \r\n       * dans l'état du composant\r\n       * @param {event} event Ajout/Suppression d'un caractère dans un champs \r\n       */\r\n      inputChangePassword(event) {\r\n        event.preventDefault();\r\n        /* Mise à jour des valeurs des inputs */\r\n        this.setState({\r\n          password: event.target.value\r\n        })\r\n        if(event.target.value.length>5){\r\n          this.verifStrength(event.target.value);\r\n        }else{\r\n          this.setState({\r\n            comptStrenghMdp:1\r\n          });\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Mettre de lier l'écriture dans les champs aux valeurs correspondantes \r\n       * dans l'état du composant\r\n       * @param {event} event Ajout/Suppression d'un caractère dans un champs \r\n       */\r\n      inputChange(event) {\r\n        event.preventDefault();\r\n        /* Mise à jour des valeurs des inputs */\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n          [name]: value\r\n        })\r\n      }\r\n\r\n    render(){\r\n      return(\r\n        <div className=\"text-black\">\r\n          {this.state.alertShow &&\r\n            <div className={\"alert alert-dismissible fade show \" + this.state.alertClass} >\r\n              {this.state.alertMessage}\r\n            </div>\r\n          }\r\n          {this.state.etape===0  && //Etape initiale du composant\r\n            <form onSubmit={event => this.sendAccount(event)}>\r\n            {/* 1er Formulaire d'enregistrement du compte' */}\r\n              <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg\">\r\n                    {/* Input nom */}\r\n                    <label htmlFor=\"nom\">Nom :</label>\r\n                    <br/>\r\n                    <input className=\"input\"\r\n                      id=\"nom\"\r\n                      name=\"nom\"\r\n                      type=\"text\"\r\n                      placeholder=\"Ton Nom\"\r\n                      value={this.state.nom}\r\n                      onChange={event => this.inputChange(event)} \r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg\">\r\n                    {/* Input prenom */}\r\n                    <label htmlFor=\"prenom\">Prénom :</label>\r\n                    <br/>\r\n                    <input className=\"input\"\r\n                      id=\"prenom\"\r\n                      name=\"prenom\"\r\n                      type=\"text\"\r\n                      placeholder=\"Ton prénom\"\r\n                      value={this.state.prenom}\r\n                      onChange={event => this.inputChange(event)} \r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg\">\r\n\r\n                  </div>\r\n                  <div className=\"col-lg\">\r\n                    {/* Input ville */}\r\n                    <label htmlFor=\"ville\">Ville :</label>\r\n                    {/* Information sur la ville trouvée si le champs n'est pas vide */}\r\n                    {this.state.name!==\"\" &&\r\n                      <label htmlFor=\"ville\">\r\n                        {this.state.name+\" - \"+this.state.context}\r\n                      </label>\r\n                    }\r\n                  </div>\r\n                  <div className=\"col-lg\">\r\n                    \r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg\">\r\n\r\n                  </div>\r\n                  <div className=\"col-lg\">\r\n                    <input className=\"input\"\r\n                      id=\"ville\"\r\n                      name=\"ville\"\r\n                      type=\"text\"\r\n                      placeholder=\"Ta ville\"\r\n                      value={this.state.ville}\r\n                      onChange={event => this.inputChangeVille(event)} \r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg\">\r\n                    \r\n                  </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg\">\r\n                    {/* Input dateBirth */}\r\n                    <label htmlFor=\"dateBirth\">Date de naissance :</label>\r\n                    <br/>\r\n                    <input className=\"input\"\r\n                      id=\"dateBirth\"\r\n                      name=\"dateBirth\"\r\n                      type=\"date\"\r\n                      maxLength=\"10\"\r\n                      placeholder=\"jj/mm/aaaa\"\r\n                      min=\"1960-01-01\"\r\n                      max={this.fifteenYearsAgo()}\r\n                      value={this.state.dateBirth}\r\n                      onChange={event => this.inputChange(event)} \r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg\">\r\n                    {/* Input email */}\r\n                    <label htmlFor=\"email\">E-mail :</label>\r\n                    <br/>\r\n                    <input className=\"input\"\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      type=\"text\"\r\n                      placeholder=\"Ton adresse e-mail\"\r\n                      value={this.state.email}\r\n                      onChange={event => this.inputChange(event)} \r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg\">\r\n                    {/* Input password */}\r\n                    <label htmlFor=\"password\">Mot de passe :</label>\r\n                    <br/>\r\n                    <input className=\"input\"\r\n                      id=\"password\"\r\n                      name=\"password\"\r\n                      type=\"password\"\r\n                      placeholder=\"Ton mot de passe\"\r\n                      value={this.state.password}\r\n                      onChange={event => this.inputChangePassword(event)} \r\n                    />\r\n                    <br/>\r\n                    <div style={{display:\"flex\",marginLeft:\"25%\",marginTop:\"5px\"}}>\r\n                      <div style={{width:\"40px\",height:\"10px\",borderTopLeftRadius:\"30px\",borderBottomLeftRadius:\"30px\",background:\"linear-gradient(to right,#FF3737, #FFAD37)\"}}></div>\r\n                      <div style={{width:\"40px\",height:\"10px\",background:(this.state.comptStrenghMdp>1?\"linear-gradient(to right,#FFAD37, #54FF48)\":\"#C7C3BD\")}}></div>\r\n                      <div style={{width:\"40px\",height:\"10px\",background:(this.state.comptStrenghMdp>2?\"linear-gradient(to right,#54FF48,#48BCFF)\":\"#C7C3BD\")}}></div>\r\n                      <div style={{width:\"40px\",height:\"10px\",background:(this.state.comptStrenghMdp>3?\"linear-gradient(to right,#48BCFF,#4872FF)\":\"#C7C3BD\"),borderTopRightRadius:\"30px\",borderBottomRightRadius:\"30px\"}}></div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-lg\">\r\n                    {/* Input verifPassword */}\r\n                    <label htmlFor=\"verifPassword\">Vérifie ton mot de passe :</label>\r\n                    <br/>\r\n                    <input className=\"input\"\r\n                      id=\"verifPassword\"\r\n                      name=\"verifPassword\"\r\n                      type=\"password\"\r\n                      placeholder=\"Ton mot de passe\"\r\n                      value={this.state.verifPassword}\r\n                      onChange={event => this.inputChange(event)} \r\n                    />\r\n                  </div>\r\n                </div>                \r\n              </div>\r\n              \r\n              <br/>\r\n              {/* Bouton Submit 1 */}\r\n              <button className=\" btn-login\" type=\"submit\">S'enregister</button>\r\n            </form>\r\n          }\r\n          {this.state.etape===1  && //Etape création identifiant terminée\r\n            <form onSubmit={event => this.sendCard(event)}>\r\n            {/* 2nd Formulaire pour upload la carte étudiante */}\r\n              <h4>Envoi de la carte étudiante</h4>\r\n              <p color=\"grey\">Votre carte étudiante dois être au format .png/.jpg/.jpeg \r\n              et ne doit pas dépasser 2Mo.</p>\r\n              {/* Input StudentCard */}\r\n              <label htmlFor=\"Student_Card\">Carte étudiante :</label>\r\n              <input className=\"input\" \r\n              type=\"file\" \r\n              name=\"StudentCard\" \r\n              id=\"Student_Card\"\r\n              onChange={event => this.inputChangeStudentCard(event)} \r\n              />\r\n              <br/>\r\n              {/* Bouton Submit 2 */}\r\n              <button type=\"submit\">Upload</button>\r\n            </form>\r\n          }\r\n          {this.state.etape===2 && //Etape carte étudiante terminée\r\n            <div>\r\n              <h4 className=\"text-blue\">Ton compte viens d'être créé</h4>\r\n              <p className=\"text-blue\">Je t'invite à aller vite te connecter pour profiter de notre application :)</p>\r\n              <a href=\"/\"><button className=\"btn btn-danger\">Fermer</button></a>{/* Il faudrait connecter directement */}\r\n            </div>\r\n          }\r\n\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default Register;\r\n\r\n","import React, { Component } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport {URL_API} from '../App';\r\n\r\nimport Login from './Login'\r\nimport Register from './Register'\r\nclass Accueil extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            show: 0, \r\n            /* Correspondance show\r\n            * 0 -> Accueil\r\n            * 1 -> Accueil + Login\r\n            * 2 -> Accueil + Register \r\n            */\r\n           connected : false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Page initialisée\r\n     */\r\n    componentDidMount(){\r\n        /* Vérif des cookies ID et KEY */\r\n        this.verifConnexion();\r\n    }\r\n\r\n    /**\r\n     * Met à jour l'état connected selon la véracité \r\n     * du couple (Cookie.get(\"ID\"),Cookie.get(\"KEY\"))\r\n     */\r\n    verifConnexion() {\r\n        const url = URL_API+'isConnected.php';\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            if(res.data.connect){ //Mise à jour de connected si réponse positive \r\n                this.setState({\r\n                    connected:true\r\n                })\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Changement du state.show\r\n     * @param {number} etat : attribut la valeur etat à state.show\r\n     */\r\n    changeShow(etat){\r\n        this.setState({\r\n            show: etat\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Retourne un l'affichage de la page d'accueil.\r\n     * - Deux boutons : Connexion & Création du compte\r\n     * - L'affichage dépend de this.state.show\r\n     */\r\n\r\n\r\n\r\n    render(){\r\n        /* Utilisateur redirigé si connecté */\r\n        if(this.state.connected){\r\n            return <Redirect to='/principale'/> //Renvoi à la page principale\r\n        } else {return(\r\n\r\n             <div className=\"container-fluid bg-image \">\r\n                <div className=\"margetop18\">\r\n                    <h1 className=\"text-white\">RENCONTRES, DISCUSSIONS,</h1>\r\n                    <h2 className=\"text-white\">ET VOUS ? </h2>\r\n                    <h2 className=\"text-white\">QUI ALLEZ-VOUS ETUDIER ?</h2>\r\n\r\n                    \r\n                    {/* show = 0 -> on affiche deux bouton Login et Register */}\r\n                    {this.state.show === 0 && \r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"btn-group margetop18 width100\">\r\n                                <div className=\"col \">\r\n                                    <button className=\" btn-accueil\" onClick={etat => this.changeShow(1)}>Se connecter</button>\r\n                                </div>\r\n                                <div className=\"col \">\r\n                                    <button className=\" btn-accueil\" onClick={etat => this.changeShow(2)}>Se créer un compte</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n                    \r\n                    {/* show = 1 -> on affiche Login */}\r\n                    {this.state.show === 1 && \r\n                        <div className=\"size-full padtop18 bg-transparentgrey\">\r\n                            <div className=\"container \">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-2\">\r\n\r\n                                    </div>\r\n\r\n                                    <div className=\"col-8 bg-brokenwhite\">\r\n                                        {/* Proposition de s'enregistrer s'il n'est pas encore dans la BDD */}\r\n                                        <p className=\"text-black\">Tu n'as toujours pas de compte ?&nbsp;\r\n                                            <br/>\r\n                                            {/* Utilisation du NavLink pour ses propriétés graphiques */}\r\n                                            <NavLink className=\"text-black\" to=\"/\" onClick={etat => this.changeShow(2)}>Je cours m'en faire un !</NavLink>\r\n                                        </p>\r\n\r\n                                        <h2 className=\"text-black\">Connexion</h2>\r\n\r\n                                        <Login />\r\n                                    </div>\r\n\r\n                                    <div className=\"col-2\">\r\n\r\n                                    </div>\r\n                                </div>                                                                                   \r\n                            </div>\r\n                            <div className=\"container \">\r\n                                <div className=\"row\">\r\n                                \r\n                                    <div className=\"col margecross\">\r\n                                        <button className=\"close\" onClick={etat => this.changeShow(0)} aria-label=\"Close\">\r\n                                            <span className=\" bg-red\" aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <div className=\"col\">\r\n\r\n                                    </div>\r\n                                </div>                                                                                   \r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {/* show = 2 -> on affiche Register */}\r\n                    {this.state.show === 2 && \r\n                        <div className=\"size-full padtop18 bg-transparentgrey\">\r\n                            <div className=\"container \">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-2\">\r\n\r\n                                    </div>\r\n\r\n                                    <div className=\"col-8 bg-brokenwhite\">\r\n                                        {/* Proposition de s'enregistrer s'il n'est pas encore dans la BDD */}\r\n                                        <h2 className=\"text-black\">Création du compte</h2>\r\n                                        <Register />\r\n                                    </div>\r\n\r\n                                    <div className=\"col-2\">\r\n\r\n                                    </div>\r\n                                </div>                                                                                   \r\n                            </div>\r\n                            <div className=\"container \">\r\n                                <div className=\"row\">\r\n                                \r\n                                    <div className=\"col margecross\">\r\n                                        <button className=\"close\" onClick={etat => this.changeShow(0)} aria-label=\"Close\">\r\n                                            <span className=\" bg-red\" aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <div className=\"col\">\r\n\r\n                                    </div>\r\n                                </div>                                                                                   \r\n                            </div>\r\n                        </div>\r\n                    }   \r\n            </div>\r\n        );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Accueil;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nclass RangeSlider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      intervalles : this.props.intervalle\r\n    }\r\n  }\r\n\r\n  handleChange(event, newValue){\r\n    this.props.onSliderAgeChange(newValue);\r\n    this.setState({\r\n      intervalles : newValue\r\n    })\r\n  };\r\n  render(){\r\n    \r\n    \r\n  return (\r\n    <div style={{width:\"25%\", marginLeft:\"2em\"}}>\r\n      <Typography id=\"range-slider\" gutterBottom>\r\n        Tranche d'âge : {this.state.intervalles[0]+\"-\"+this.state.intervalles[1]+\" ans\"}\r\n      </Typography>\r\n      <Slider\r\n        min={17}\r\n        max={37}\r\n        value={this.state.intervalles}\r\n        onChange={(event,newValue) => this.handleChange(event,newValue)}\r\n        valueLabelDisplay=\"auto\"\r\n        aria-labelledby=\"range-slider\"\r\n      />\r\n    </div>\r\n  );\r\n  }\r\n}\r\nexport default RangeSlider;","import React from 'react';\r\nimport AvatarEditor from 'react-avatar-editor';\r\n\r\nconst ImageCrop = ({ imageSrc, onCrop, setEditorRef, scaleValue, onScaleChange}) => (\r\n    <div>\r\n        <AvatarEditor image={imageSrc} border={20} scale={scaleValue} ref={setEditorRef} />\r\n        <input style={{ width:\"50%\"}} type=\"range\" value={scaleValue} min=\"1\" max=\"10\" step=\"0.05\" onChange={onScaleChange}/>\r\n        <button onClick={onCrop}>Valider !</button>\r\n    </div>\r\n);\r\n\r\nexport default ImageCrop;","import React, { Component } from 'react';\r\nimport ImageCrop from './CropImage';\r\nimport {URL_API} from '../App';\r\nimport Cookies from 'js-cookie';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { ProgressBar } from 'react-bootstrap';\r\n\r\n/**\r\n * Composant qui demande à l'utilisateur de \r\n * upload une photo de profil\r\n */\r\n\r\nclass PhotosProfil extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          userProfilePic: '',\r\n          editor: null,\r\n          scaleValue: 1,\r\n          connected:true,\r\n          percentage: 0\r\n        };\r\n    }\r\n    \r\n    setEditorRef = editor => this.setState({ editor })\r\n    \r\n    DataURLtoFile = (dataurl, filename) => {\r\n        let arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n        while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new File([u8arr], filename, { type: mime });\r\n    };\r\n\r\n    profileImageChange = (fileChangeEvent) => {\r\n        if(fileChangeEvent.target.files[0]!==undefined){\r\n            const file = fileChangeEvent.target.files[0];\r\n            const { type } = file;\r\n            if ((type.endsWith('jpeg') || type.endsWith('png') || type.endsWith('jpg'))) {\r\n                this.setState({selectedImage: fileChangeEvent.target.files[0]});\r\n            }\r\n        }\r\n    }\r\n\r\n    onCrop = () => {\r\n        const {editor} = this.state;\r\n        if(editor !=null){\r\n            const url = editor.getImage().toDataURL();\r\n            this.setState({userProfilePic : this.DataURLtoFile(url,\"image.png\")});\r\n        }\r\n    }\r\n\r\n    sendCard(event){\r\n        event.preventDefault();\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        let config = {\r\n          headers: {\r\n          logginid: Cookies.get(\"ID\"),\r\n          logginkey: Cookies.get(\"KEY\")\r\n          },\r\n          onUploadProgress: (ProgressEvent) => {\r\n            const {loaded, total} = ProgressEvent;\r\n            let percent = Math.floor( (loaded*100) /total -1);\r\n            if(percent < 100){\r\n              this.setState({percentage : percent});\r\n            }\r\n          }\r\n        }\r\n        let formData = new FormData();\r\n        console.log(this.state.userProfilePic);\r\n        formData.append('file',this.state.userProfilePic);\r\n\r\n        const url = URL_API+'addProfileImage.php';\r\n          axios.post(url,formData,config)\r\n          .then(res => {\r\n            console.log(res.data);\r\n            if(!res.data.connect){\r\n              this.setState({connected:false});\r\n            }else{\r\n              this.setState({percentage : 100});\r\n              console.log(\"L'actualisation de ton image peut mettre du temps, contacte le support si ça n'a pas changé après 3min\");\r\n              this.props.isCropping(false);\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n        }\r\n\r\n    onScaleChange = (scaleValueEvent) => {\r\n        const scaleValue = parseFloat(scaleValueEvent.target.value);\r\n        this.setState({ scaleValue });\r\n    }\r\n\r\n    render(){\r\n      if(!this.state.connected){\r\n        Cookies.remove(\"ID\");\r\n        Cookies.remove(\"KEY\");\r\n        return(<Redirect to='/'/>);\r\n      }\r\n      const {percentage} = this.state;\r\n      return(\r\n        <div>\r\n            <input type=\"file\" accept=\"image/png, image/jpeg, image/jpg\" onChange={this.profileImageChange} />\r\n            <br/>\r\n            <ImageCrop\r\n              imageSrc={this.state.selectedImage}\r\n              setEditorRef={this.setEditorRef}\r\n              onCrop={this.onCrop}\r\n              scaleValue={this.state.scaleValue}\r\n              onScaleChange={this.onScaleChange}\r\n              />\r\n              \r\n              {/* Submit */} \r\n            <form onSubmit={event => this.sendCard(event)}>\r\n              {percentage === 0 ?\r\n                <button disabled={this.state.userProfilePic===\"\"} type=\"submit\">Upload</button>\r\n              : <ProgressBar animated now={percentage} label={`${percentage}%`} />\r\n              }\r\n            </form>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default PhotosProfil;","import React, { Component } from 'react';\r\nimport {URL_API} from '../App';\r\nimport Cookies from 'js-cookie';\r\nimport PhotosProfil from '../PhotosProfil/PhotosProfil';\r\n\r\n\r\nclass EditProfilePhoto extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          tabImage : [\r\n              false,\r\n              false,\r\n              false,\r\n              false,\r\n              false\r\n          ],\r\n          crop:false\r\n        };\r\n      }\r\n\r\n    componentDidMount(){\r\n      this.initTabImage();\r\n    }\r\n\r\n    trashIcon = () => {\r\n      return(\r\n      <svg className=\"bi bi-trash\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n        <path fillRule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n      </svg>\r\n      );\r\n    }\r\n\r\n    initTabImage(){\r\n      const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'getPreferenceCard.php?id='+Cookies.get('ID');\r\n          axios.get(url)\r\n          .then(res => {\r\n            this.setState({\r\n                tabImage:[\r\n                    res.data.tabImage[0],\r\n                    res.data.tabImage[1],\r\n                    res.data.tabImage[2],\r\n                    res.data.tabImage[3],\r\n                    res.data.tabImage[4]\r\n                ],\r\n                crop:false\r\n            });\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n    }\r\n\r\n    isCropping = (cropp) => {\r\n      this.setState({\r\n        crop:false\r\n      });\r\n      this.initTabImage();\r\n    }\r\n\r\n    supprImage(num){\r\n      const axios = require('axios');  //Requêtes HTTP\r\n      let config = {\r\n        headers: {\r\n        logginid: Cookies.get(\"ID\"),\r\n        logginkey: Cookies.get(\"KEY\")\r\n        }\r\n      }\r\n      let formData = new FormData();\r\n        formData.append('number',num);\r\n\r\n      const url = URL_API+'delProfileImage.php?id='+Cookies.get('ID');\r\n      axios.post(url,formData,config)\r\n        .then(res => {\r\n          console.log(res.data.deletion);\r\n          this.initTabImage();\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    render(){\r\n      return(\r\n        <div style={{display:\"flex\"}}>\r\n            {!(this.state.tabImage[0] || this.state.tabImage[1] || this.state.tabImage[2] || this.state.tabImage[3] || this.state.tabImage[4]) &&\r\n              <div>Vous n'avez pas d'image de profile</div>\r\n            }\r\n            {(this.state.tabImage[0]) &&\r\n            <div>\r\n                <img width=\"200px\" src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+Cookies.get('ID')+\"-1.png\"} alt=\"Profile 1\" />\r\n                <br/>\r\n                <button onClick={() => this.supprImage(1)}>Supprimer \r\n                  {this.trashIcon()}\r\n                </button>\r\n            </div>\r\n            }{(this.state.tabImage[1]) &&\r\n            <div>\r\n                <img width=\"200px\" src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+Cookies.get('ID')+\"-2.png\"} alt=\"Profile 2\" />\r\n                <br/>\r\n                <button onClick={() => this.supprImage(2)}>Supprimer\r\n                  {this.trashIcon()}\r\n                </button>\r\n            </div>\r\n            }{(this.state.tabImage[2]) &&\r\n            <div>\r\n                <img width=\"200px\" src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+Cookies.get('ID')+\"-3.png\"} alt=\"Profile 3\" />\r\n                <br/>\r\n                <button onClick={() => this.supprImage(3)}>Supprimer\r\n                  {this.trashIcon()}\r\n                </button>\r\n            </div>\r\n            }{(this.state.tabImage[3]) &&\r\n            <div>\r\n                <img width=\"200px\" src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+Cookies.get('ID')+\"-4.png\"} alt=\"Profile 4\" />\r\n                <br/>\r\n                <button onClick={() => this.supprImage(4)}>Supprimer\r\n                  {this.trashIcon()}\r\n                </button>\r\n            </div>\r\n            }{(this.state.tabImage[4]) &&\r\n            <div>\r\n                <img width=\"200px\" src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+Cookies.get('ID')+\"-5.png\"} alt=\"Profile 5\" />\r\n                <br/>\r\n                <button onClick={() => this.supprImage(5)}>Supprimer\r\n                  {this.trashIcon()}\r\n                </button>\r\n            </div>\r\n            }\r\n            {(!(this.state.tabImage[0] && this.state.tabImage[1] && this.state.tabImage[2] && this.state.tabImage[3] && this.state.tabImage[4]) && (!this.state.crop)) &&\r\n              <button onClick={() => this.setState({crop:true})}>Ajouter une photo !</button>\r\n            }\r\n            {this.state.crop &&\r\n            <PhotosProfil isCropping={this.isCropping}/>\r\n            }\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default EditProfilePhoto;","import React, { Component } from 'react';\r\nimport RangeSlider from './Slider';\r\nimport EditProfilesPhoto from '../PhotosProfil/EditProfilePhoto';\r\nimport {URL_API} from '../App';\r\nimport Cookies from 'js-cookie';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\nclass Preference extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //Prochaine étape : pré-sélectionner les valeurs déjà renseignées \r\n        //Simulation retour de la requête avec une constante(tableau je pense)\r\n        //On peut mettre dans les select value={this.state} ce qui permet de \r\n        //initialiser aux valeurs de la BDD\r\n\r\n        this.state = {\r\n          JeSuis : \"\", //Sexe\r\n          JeCherche : \"\", //souhaite voir\r\n          But : 0, //ce que je cherche\r\n          TrancheAge : [0,0], //Tranche D'âge\r\n          Description : \"\", //A propos de vous         \r\n          Ville : \"\", //Ville \r\n          Latitude:\"\", Longitude:\"\", Contexte:\"\", NomVille:\"\",\r\n          Etudes: \"\", //Etudes\r\n          Taille : 100, //Taille\r\n          Yeux: \"0\", //Couleur des Yeux\r\n          Cheveux: \"\",//Couleur des Cheveux\r\n          Sport: \"\",//Activités Physique \r\n          Alcool: \"\", //Alcool\r\n          Tabac: \"\",//Fumeur\r\n          Animaux: \"\",// Animaux de compagnie \r\n          Religion: \"\",//Croyance\r\n          Astro: \"\",// Signe Astrologique\r\n          init:0,\r\n          connect:true\r\n        };\r\n      this.handleChangeLookingFor = this.handleChangeLookingFor.bind(this);\r\n      this.handleChangeSexe = this.handleChangeSexe.bind(this);\r\n      }\r\n\r\n      componentDidMount(){\r\n        this.initPref();\r\n      }\r\n\r\n      initPref(){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        const url = URL_API+'getPreferenceValues.php?img=yes';\r\n          axios.get(url,config)\r\n          .then(res => {\r\n            const tabCoor = res.data.tabPref.gps.split(';');\r\n            const tabAge = res.data.tabPref.trancheAge.split('-');\r\n            this.setState({\r\n                connect : res.data.connect,\r\n                JeSuis : res.data.tabPref.jeSuis,\r\n                JeCherche : res.data.tabPref.jeCherche, \r\n                But : res.data.tabPref.butRencontre, \r\n                TrancheAge : [parseInt(tabAge[0],10),parseInt(tabAge[1],10)], \r\n                Description : res.data.tabPref.bio,       \r\n                Ville : res.data.tabPref.ville,\r\n                Latitude:tabCoor[0], Longitude:tabCoor[1],\r\n                Etudes: res.data.tabPref.etude, \r\n                Taille : res.data.tabPref.taille, \r\n                Yeux: res.data.tabPref.yeux, \r\n                Cheveux: res.data.tabPref.cheveux,\r\n                Sport: res.data.tabPref.sport,\r\n                Alcool: res.data.tabPref.alcool,\r\n                Tabac: res.data.tabPref.tabac,\r\n                Animaux: res.data.tabPref.animaux,\r\n                Religion: res.data.tabPref.religion,\r\n                Astro: res.data.tabPref.astro,\r\n                init:1,\r\n                certif:res.data.certif\r\n            });\r\n            console.log(this.state);\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      }\r\n\r\n      /**\r\n       * Envoie les données du 1er formulaire avec les coordonnées de la ville\r\n       * au serveur pour pouvoir creer un compte\r\n       * @param {event} event Action du 1er form par le bouton Submit\r\n       */\r\n      sendPref(event) {\r\n        event.preventDefault();\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        let config = {\r\n          headers: {\r\n          logginid: Cookies.get(\"ID\"),\r\n          logginkey: Cookies.get(\"KEY\")\r\n          }\r\n      }\r\n        let formData = new FormData();\r\n        formData.append('jeSuis',this.state.JeSuis);\r\n        formData.append('jeCherche',this.state.JeCherche);\r\n        formData.append('But',this.state.But);\r\n        formData.append('TrancheAge',this.state.TrancheAge[0]+\"-\"+this.state.TrancheAge[1]);\r\n        formData.append('Description',this.state.Description);\r\n        formData.append('Ville',(this.state.NomVille===\"\"?this.state.Ville:this.state.NomVille));\r\n        formData.append('Coor',this.state.Latitude+\";\"+this.state.Longitude);\r\n        formData.append('Etudes',this.state.Etudes);\r\n        formData.append('Taille',this.state.Taille);\r\n        formData.append('Yeux',this.state.Yeux);\r\n        formData.append('Cheveux',this.state.Cheveux);\r\n        formData.append('Sport',this.state.Sport);\r\n        formData.append('Alcool',this.state.Alcool);\r\n        formData.append('Tabac',this.state.Tabac);\r\n        formData.append('Animaux',this.state.Animaux);\r\n        formData.append('Religion',this.state.Religion);\r\n        formData.append('Astro',this.state.Astro);\r\n        const url = URL_API+'setPreference.php';\r\n        axios.post(url,formData,config)\r\n        .then(res => {\r\n          if(res.data.status!==\"failure\"){\r\n            this.setState({\r\n              connect : res.data.connect\r\n            });\r\n            console.log(res.data);\r\n          }else{\r\n            console.log(\"Une erreur s'est produite\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n      }\r\n\r\n\r\n      onSliderAgeChange = (newValue) => {\r\n        this.setState({\r\n          TrancheAge : newValue\r\n        })\r\n      };\r\n\r\n      /**\r\n       * Propose une ville française selon la valeur du champs ville et mise à\r\n       * jour de ses coordonnées grâce à l'API Adresse du gouvernement\r\n       * @param {event} event Ajout/Suppression d'un caractère dans le champ ville\r\n       */\r\n      inputChangeVille(event){\r\n        event.preventDefault();\r\n        this.setState({\r\n          Ville: event.target.value\r\n        })\r\n        if(event.target.value!==\"\"){\r\n          const axios = require('axios').default;\r\n          const url = \"https://api-adresse.data.gouv.fr/search/?q=\"+event.target.value+\"&type=municipality&autocomplete=1\"\r\n          axios.get(url)\r\n          .then(res => {\r\n            if(res.data!==null){\r\n              if(res.data.features[0]!=null){\r\n                this.setState({\r\n                NomVille: res.data.features[0].properties.city,\r\n                Latitude: res.data.features[0].geometry.coordinates[1],\r\n                Longitude: res.data.features[0].geometry.coordinates[0],\r\n                Contexte: res.data.features[0].properties.context\r\n                })\r\n              }\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n        }\r\n      }\r\n   \r\n      inputChange(event) {\r\n        event.preventDefault();\r\n        /* Mise à jour des valeurs des inputs */\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n          [name]: value\r\n        })\r\n      }\r\n      handleChangeLookingFor(event) {\r\n        this.setState({\r\n          JeCherche: event.target.value\r\n        });\r\n      }\r\n      handleChangeSexe(event) {\r\n        this.setState({\r\n          JeSuis: event.target.value\r\n        });\r\n      }\r\n\r\n    render(){\r\n      /* Utilisateur redirigé si non connecté */\r\n      if(!this.state.connect){\r\n          Cookies.remove(\"ID\");//Supression du cookie\r\n          Cookies.remove(\"KEY\");//Suppression du cookie\r\n          return (<Redirect to='/'/>); //Renvoi à la page de connexion\r\n      }\r\n      return(\r\n        <div style={{marginTop:\"10%\"}}>\r\n          {/* Formulaire du profil de la personne' */}\r\n          {this.state.init===1?\r\n          <div>\r\n            {/*--------------------------Photos--------------------------*/}\r\n            <EditProfilesPhoto />\r\n            <br/>\r\n          <form onSubmit={event => this.sendPref(event)}>\r\n            {this.state.certif===\"1\"?\r\n              <div>T'es certifié !</div>\r\n              :this.state.certif===\"0\"?\r\n                <div>Veuillez envoyer votre carte étudiante.</div>\r\n                :<div>Votre carte étudiante est en attente de validation...</div>\r\n            }\r\n            {/*--------------------------Sexe--------------------------*/}\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <label className=\"input-group-text\" htmlFor=\"sexe\">Je suis :</label>\r\n              </div> \r\n              <div className=\"form-check form-check-inline\">\r\n                <label className=\"form-check-label\" htmlFor=\"Male\">Un homme</label>\r\n                <input \r\n                  className=\"form-check-input\"\r\n                  type=\"radio\"\r\n                  name=\"JeSuis\"\r\n                  id=\"Male\"\r\n                  value=\"Homme\"\r\n                  checked={this.state.JeSuis===\"Homme\"}\r\n                  onChange={this.handleChangeSexe}\r\n\r\n\r\n                />\r\n              </div>\r\n              <div className=\"form-check form-check-inline\">\r\n                <label className=\"form-check-label\" htmlFor=\"Female\">Une femme</label>\r\n                <input \r\n                  className=\"form-check-input\" \r\n                  type=\"radio\" \r\n                  name=\"JeSuis\" \r\n                  id=\"Female\"\r\n                  value=\"Femme\"\r\n                  checked={this.state.JeSuis===\"Femme\"}\r\n                  onChange={this.handleChangeSexe}\r\n\r\n\r\n                />\r\n              </div>\r\n              <div className=\"form-check form-check-inline\">\r\n                <label className=\"form-check-label\" htmlFor=\"Alive\">Vivant</label>\r\n                <input \r\n                  className=\"form-check-input\" \r\n                  type=\"radio\" \r\n                  name=\"JeSuis\" \r\n                  id=\"Alive\"\r\n                  value=\"Vivant\"\r\n                  checked={this.state.JeSuis===\"Vivant\"}\r\n                  onChange={this.handleChangeSexe}\r\n \r\n                />\r\n              </div>\r\n            </div>\r\n            <br/>\r\n            {/*--------------------------Souhaite voir--------------------------*/}\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <label className=\"input-group-text\" htmlFor=\"lookingfor\">Je souhaite rencontrer :</label>\r\n              </div> \r\n              <div className=\"form-check form-check-inline\">\r\n                <label className=\"form-check-label\" htmlFor=\"Hommes\">Des hommes</label>\r\n                <input \r\n                  className=\"form-check-input\"\r\n                  type=\"radio\"\r\n                  name=\"lookingfor\"\r\n                  id=\"Hommes\"\r\n                  value=\"Hommes\"\r\n                  checked={this.state.JeCherche==='Hommes'}\r\n                  onChange={this.handleChangeLookingFor}\r\n                  />\r\n              </div>\r\n              <div className=\"form-check form-check-inline\">\r\n                <label className=\"form-check-label\" htmlFor=\"Femmes\">Des femmes</label>\r\n                <input \r\n                  className=\"form-check-input\" \r\n                  type=\"radio\" \r\n                  name=\"lookingfor\" \r\n                  id=\"Femmes\" \r\n                  value=\"Femmes\"\r\n                  checked={this.state.JeCherche==='Femmes'}\r\n                  onChange={this.handleChangeLookingFor}\r\n                  />\r\n              </div>\r\n              <div className=\"form-check form-check-inline\">\r\n                <label className=\"form-check-label\" htmlFor=\"Les deux\">Les deux</label>\r\n                <input \r\n                  className=\"form-check-input\" \r\n                  type=\"radio\" \r\n                  name=\"lookingfor\" \r\n                  id=\"Les deux\" \r\n                  value=\"Les deux\" \r\n                  checked={this.state.JeCherche==='Les deux'}\r\n                  onChange={this.handleChangeLookingFor}\r\n                />\r\n              </div>\r\n            </div>\r\n            <br/>\r\n          {/*--------------------------Cherche-------------------------- */}\r\n            <div className=\"input-group \">\r\n              <div className=\"input-group-prepend\">\r\n                <label className=\"input-group-text\" htmlFor=\"But\">Ce que je cherche :</label>\r\n              </div>\r\n              <select  id=\"But\" value={this.state.But} name=\"But\" onChange={(event) => this.inputChange(event)}>\r\n                <option  value=\"0\">A remplir</option>\r\n                <option value=\"1\">Du sérieux</option>\r\n                <option value=\"2\">Aller boire un verre</option>\r\n                <option value=\"3\">On verra</option>\r\n                <option value=\"4\">Pas de prise de tête</option>\r\n                <option value=\"5\">Occuper ma soirée </option>\r\n                <option value=\"6\">Amitié </option>\r\n                <option value=\"7\">Seulement tchatter </option>\r\n              </select>\r\n            </div>\r\n            <br />\r\n           {/*--------------------------Tranche d age-------------------------- */}\r\n            <RangeSlider intervalle={this.state.TrancheAge} onSliderAgeChange={this.onSliderAgeChange}/>\r\n            <br />\r\n            {/*--------------------------Description--------------------------*/}\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <label className=\"input-group-text\" htmlFor=\"Description\">A propos de vous :</label>\r\n              </div> \r\n                <textarea\r\n                  id=\"Description\"\r\n                  name=\"Description\"\r\n                  type=\"text\"\r\n                  placeholder=\"Vous avez 350 caractères pour nous en dire plus ;)\"\r\n                  style={{resize: \"none\"}}\r\n                  rows=\"2\"//hauteur\r\n                  cols=\"50\" //largeur\r\n                  maxLength=\"350\"\r\n                  value={this.state.Description}\r\n                  onChange={event => this.inputChange(event)} \r\n                />\r\n            </div>\r\n            <br/>\r\n            {/*-------------------------- Ville--------------------------*/}\r\n            {this.state.NomVille!==\"\" &&\r\n              <label>\r\n                {this.state.NomVille+\" - \"+this.state.Contexte}\r\n              </label>\r\n            }\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <label className=\"input-group-text\" htmlFor=\"Ville\">J'habite à :</label>\r\n              </div>                \r\n              <input\r\n                  id=\"Ville\"\r\n                  name=\"Ville\"\r\n                  type=\"text\"\r\n                  placeholder=\"Paris\"\r\n                  value={this.state.Ville}\r\n                  onChange={event => this.inputChangeVille(event)} \r\n                />\r\n            </div>\r\n            <br />\r\n            {/*--------------------------Etudes-------------------------- */}\r\n            <div className=\"input-group \">\r\n              <div className=\"input-group-prepend\">\r\n                <label className=\"input-group-text\" htmlFor=\"Etudes\">J'étudie au :</label>\r\n              </div>\r\n              <select  id=\"Etudes\" value={this.state.Etudes} name=\"Etudes\" onChange={(event) => this.inputChange(event)}>\r\n                <option value=\"none\">A remplir</option>\r\n                <option value=\"Lycée\">Lycée</option>\r\n                <option value=\"Université\">Université</option>\r\n                <option value=\"Ecole d'Ingénieur\">Ecole d'Ingénieur</option>\r\n                <option value=\"Ecole de commerce\">Ecole de commerce</option>\r\n                <option value=\"Ecole supérieur\">Ecole supérieur</option>\r\n                <option value=\"Reconversion\">Reconversion </option>\r\n                <option value=\"Année sabatique\">Année sabatique</option>\r\n              </select>\r\n            </div>\r\n            <br />\r\n            {/*--------------------------Taille-------------------------- */}\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <label className=\"input-group-text\" htmlFor=\"Taille\">Je mesure :</label>\r\n              </div>\r\n                   <input\r\n                    id=\"Taille\"\r\n                    name=\"Taille\"\r\n                    type=\"number\"\r\n                    min=\"100\"\r\n                    max=\"300\"\r\n                    value={this.state.Taille}\r\n                    onChange={event => this.inputChange(event)}\r\n                  />\r\n                <div className=\"input-group-append\">\r\n                  <label className=\"input-group-text\" htmlFor=\"Taille\">cm</label>\r\n                </div>\r\n            </div>\r\n            <br />\r\n            {/*--------------------------Yeux-------------------------- */}\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <label className=\"input-group-text\" htmlFor=\"Yeux\">Mes yeux sont :</label>\r\n                </div>\r\n                <select  id=\"Yeux\" value={this.state.Yeux} name=\"Yeux\" onChange={(event) => this.inputChange(event)}>\r\n                  <option  value=\"none\">A remplir</option>\r\n                  <option value=\"Noir\">Noir</option>\r\n                  <option value=\"Marron\">Marron</option>\r\n                  <option value=\"Vert\">Vert</option>\r\n                  <option value=\"Bleu\">Bleu</option>\r\n                  <option value=\"Verron\">Verron</option>\r\n                  <option value=\"Autre\">Autre</option>\r\n                </select>\r\n              </div>\r\n              <br />\r\n              {/*--------------------------Cheveux-------------------------- */}\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <label className=\"input-group-text\" htmlFor=\"Cheveux\">Mes cheveux sont :</label>\r\n                </div>\r\n                <select  id=\"Cheveux\" value={this.state.Cheveux} name=\"Cheveux\" onChange={(event) => this.inputChange(event)}>\r\n                <option  value=\"none\">A remplir</option>\r\n                  <option value=\"Noir\">Noir</option>\r\n                  <option value=\"Brun\">Brun</option>\r\n                  <option value=\"Auburn\">Auburn</option>\r\n                  <option value=\"Châtain\">Châtain</option>\r\n                  <option value=\"Roux\">Roux</option>\r\n                  <option value=\"Blond\">Blond</option>\r\n                  <option value=\"Blanc\">Blanc</option>\r\n                  <option value=\"Autre\">Autre</option>\r\n                </select>\r\n              </div>\r\n              <br />\r\n              {/*--------------------------Sport-------------------------- */}\r\n              <div className=\"input-group \">\r\n                <div className=\"input-group-prepend\">\r\n                  <label className=\"input-group-text\" htmlFor=\"Sport\">Les activités physique :</label>\r\n                </div>\r\n                <select  id=\"Sport\" value={this.state.Sport} name=\"Sport\" onChange={(event) => this.inputChange(event)}>\r\n                  <option  value=\"none\">A remplir</option>\r\n                  <option value=\"Passioné\">Passioné(e)</option>\r\n                  <option value=\"Régulièrement\">Régulièrement</option>\r\n                  <option value=\"Parfois\">Parfois</option>\r\n                  <option value=\"Une fois au chalet\">Une fois au chalet</option>\r\n                  <option value=\"Quelle horreur\">Quelle horreur</option>\r\n                </select>\r\n              </div>\r\n              <br />\r\n              {/*--------------------------Alcool-------------------------- */}\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <label className=\"input-group-text\" htmlFor=\"Alcool\">L'alcool :</label>\r\n                </div>\r\n                <select  id=\"Alcool\" value={this.state.Alcool} name=\"Alcool\" onChange={(event) => this.inputChange(event)}>\r\n                  <option  value=\"none\">A remplir</option>\r\n                  <option value=\"Tous les jours\">Tous les jours</option>\r\n                  <option value=\"Régulièrement\">Régulièrement</option>\r\n                  <option value=\"A l'occasion\">A l'occasion</option>\r\n                  <option value=\"Jamais\">Jamais</option>\r\n                </select>\r\n                </div>\r\n              <br />\r\n              {/*--------------------------Tabac-------------------------- */}\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <label className=\"input-group-text\" htmlFor=\"Tabac\">Le tabac :</label>\r\n                </div>\r\n                <select  id=\"Tabac\" value={this.state.Tabac} name=\"Tabac\" onChange={(event) => this.inputChange(event)}>\r\n                  <option  value=\"none\">A remplir</option>\r\n                  <option value=\"Fréquemment\">Fréquemment</option>\r\n                  <option value=\"A l'occasion\">A l'occasion</option>\r\n                  <option value=\"Jamais\">Jamais</option>\r\n                </select>\r\n              </div>\r\n              <br />\r\n              {/*--------------------------Animaux Domestique-------------------------- */}\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <label className=\"input-group-text\" htmlFor=\"Animaux\">Mes animaux de compagnie :</label>\r\n                </div>\r\n                <select  id=\"Animaux\" value={this.state.Animaux} name=\"Animaux\" onChange={(event) => this.inputChange(event)}>\r\n                  <option  value=\"none\">A remplir</option>\r\n                  <option value=\"Chiens\">Chiens</option>\r\n                  <option value=\"Chats\">Chats</option>\r\n                  <option value=\"Beaucoup\">Beaucoup :)</option>\r\n                  <option value=\"Autres\">Autres</option>\r\n                  <option value=\"Aucun\">Aucun</option>\r\n                  <option value=\"Allergique\">Allergique :'(</option>\r\n                </select>\r\n              </div>\r\n              <br />\r\n              {/*--------------------------Religion-------------------------- */}\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <label className=\"input-group-text\" htmlFor=\"Religion\">Ma religion :</label>\r\n                </div>\r\n                <select  id=\"Religion\" value={this.state.Religion} name=\"Religion\" onChange={(event) => this.inputChange(event)}>\r\n                  <option value=\"none\">A remplir</option>\r\n                  <option value=\"Agnosticisme\">Agnosticisme</option>\r\n                  <option value=\"Athéisme\">Athéisme</option>\r\n                  <option value=\"Bouddhisme\">Bouddhisme</option>\r\n                  <option value=\"Christianisme\">Christianisme</option>\r\n                  <option value=\"Hindouisme\">Hindouisme</option>\r\n                  <option value=\"Jaïnisme\">Jaïnisme</option>\r\n                  <option value=\"Judaïsme\">Judaïsme</option>\r\n                  <option value=\"Islam\">Islam</option>\r\n                  <option value=\"Zoroastrisme\">Zoroastrisme</option>\r\n                  <option value=\"Sikhisme\">Sikhisme</option>\r\n                  <option value=\"Spiritualité\">Spiritualité</option>\r\n                  <option value=\"Autre\">Autre</option>\r\n                </select>\r\n              </div>\r\n              <br />\r\n              {/*--------------------------Signe Astro-------------------------- */}\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <label className=\"input-group-text\" htmlFor=\"Astro\">Mon signe astrologique :</label>\r\n                </div>\r\n                <select  id=\"Astro\" value={this.state.Astro} name=\"Astro\" onChange={(event) => this.inputChange(event)}>\r\n                  <option  value=\"none\">A remplir</option>\r\n                  <option value=\"Verseau\">Verseau</option>\r\n                  <option value=\"Poissons\">Poissons</option>\r\n                  <option value=\"Bélier\">Bélier</option>\r\n                  <option value=\"Taureau\">Taureau</option>\r\n                  <option value=\"Gémeaux\">Gémeaux</option>\r\n                  <option value=\"Cancer\">Cancer</option>\r\n                  <option value=\"Lion\">Lion</option>\r\n                  <option value=\"Vierge\">Vierge</option>\r\n                  <option value=\"Scorpion\">Scorpion</option>\r\n                  <option value=\"Sagittaire\">Sagittaire</option>\r\n                  <option value=\"Capricorne\">Capricorne</option>\r\n                  <option value=\"Balance\">Balance</option>\r\n                </select>\r\n              </div>\r\n              <br />\r\n              {/*--------------------------SAVE-------------------------- */}\r\n                <button type=\"submit\">Sauvegarder</button>\r\n              </form>\r\n              </div>\r\n              :\r\n              <div>Chargement...</div>\r\n              }\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default Preference;\r\n","import React, { Component } from 'react';\r\nimport RangeSlider from './Slider';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport ReactDOM from 'react-dom';\r\nimport ReactModal from 'react-modal';\r\nfunction FiltrEtude(props) {\r\n  if (!props.warn) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"warning\">\r\n      Warning!\r\n    </div>\r\n  );\r\n}\r\nclass Filtre extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            checkedA: true,\r\n            showFiltreEtude: false,\r\n            TabEtudes: [\r\n                {name: \"Lycée\" , value: 1},\r\n                {name: \"Université\", value: 1},\r\n                {name: \"Ecole d'Ingénieur\", value: 1},\r\n                {name: \"Ecole de commerce\", value: 1},\r\n                {name: \"Ecole supérieur\", value: 1},\r\n                {name: \"Reconversion\", value: 1},\r\n                {name: \"Sabatique\", value: 1},\r\n            ],\r\n            Taille : 100, //Taille\r\n            Yeux: \"0\", //Couleur des Yeux\r\n            Cheveux: \"\",//Couleur des Cheveux\r\n            Sport: \"\",//Activités Physique \r\n            Alcool: \"\", //Alcool\r\n            Tabac: \"\",//Fumeur\r\n            Animaux: \"\",// Animaux de compagnie \r\n            Religion: \"\",//Croyance\r\n            Astro: \"\",// Signe Astrologique\r\n            init:0,\r\n            connect:true\r\n        };\r\n\r\nthis.handleChangeEtude = this.handleChangeEtude.bind(this);\r\nthis.handleClickIn = this.handleClickIn.bind(this);\r\nthis.handleClickOut = this.handleClickOut.bind(this);\r\n   }\r\n    inputChange(event) {\r\n        event.preventDefault();\r\n        /* Mise à jour des valeurs des inputs */\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n          [name]: value\r\n        })\r\n      }\r\n    handleChange(event){\r\n      this.setState({\r\n        [event.target.name]: event.target.checked \r\n     })\r\n    }\r\n    handleClickIn(event) {\r\n      this.setState({showFiltreEtude: true});\r\n    }\r\n\r\n    handleClickOut(event) {\r\n      this.setState({showFiltreEtude: false});\r\n    }\r\n    handleChangeEtude(event) {\r\n      this.setState({isChecked: !this.state.isChecked});\r\n      const num = event.target.value\r\n       if (this.state.TabEtudes[num].value===1){this.state.TabEtudes[num].value=0;}\r\n       else if (this.state.TabEtudes[num].value===0){this.state.TabEtudes[num].value=1;}\r\n       console.log(this.state.TabEtudes)\r\n       }\r\n\r\n\r\n    render(){\r\n      return(\r\n        <div>\r\n          {/* Formulaire des Filtres de la personne' */}\r\n          <form >\r\n            <br/>\r\n            <br/>\r\n            <br/>\r\n                {/* Voir Uniquement des personnes vérifier */}\r\n                <div>\r\n                <FormGroup row>\r\n                  <FormControlLabel\r\n                  labelPlacement ='start'\r\n                  label =\"Voir seulement des profils vérifié :\"\r\n                  control={<Switch checked={this.state.checkedA} onChange={event => this.handleChange(event)} name=\"checkedA\" />}\r\n                  />\r\n                  </FormGroup>\r\n                  </div>\r\n\r\n                {/* Filtre Etude */}\r\n                {this.state.showFiltreEtude===false && <button onClick={() => this.handleClickIn()}>Ajouter ce filtre</button>}\r\n                {this.state.showFiltreEtude===true && <div >\r\n                      <label htmlFor=\"Etude\">Etudes</label>\r\n                      <div >\r\n                        <br/>\r\n                        <label htmlFor=\"lycée\">Lycée</label>\r\n                        <input type=\"checkbox\"\r\n                               id=\"lycée\" \r\n                               name=\"lycée\"\r\n                               value=\"0\"\r\n                               checked={this.state.TabEtudes[0].value===1?true:false}\r\n                               onChange={this.handleChangeEtude}\r\n                               key={this.state.TabEtudes}\r\n                        />\r\n                        <br/>\r\n                        <label htmlFor=\"Université\">Université</label>\r\n                        <input type=\"checkbox\"\r\n                               id=\"Université\" \r\n                               name=\"Université\"\r\n                               value=\"1\"\r\n                               checked={this.state.TabEtudes[1].value===1?true:false}\r\n                               onChange={this.handleChangeEtude}\r\n\r\n                        />\r\n                        <br/>\r\n                        <label htmlFor=\"ing\">Ecole d'Igénieur</label>\r\n                        <input type=\"checkbox\"\r\n                               id=\"ing\" \r\n                               name=\"Ecole d'Ingénieur\"\r\n                               value=\"2\"\r\n                               checked={this.state.TabEtudes[2].value===1?true:false}\r\n                               onChange={this.handleChangeEtude}\r\n                        />\r\n                        <br/>                       \r\n                        <label htmlFor=\"eco\">Ecole de commerce</label>\r\n                        <input type=\"checkbox\"\r\n                               id=\"eco\" \r\n                               name=\"Ecole de commerce\"\r\n                               value=\"3\"\r\n                               checked={this.state.TabEtudes[3].value===1?true:false}\r\n                               onChange={this.handleChangeEtude}\r\n                        />\r\n                        <br/>\r\n                        <label htmlFor=\"sup\">Ecole supérieur</label>\r\n                        <input type=\"checkbox\"\r\n                               id=\"sup\" \r\n                               name=\"Ecole supérieur\"\r\n                               value=\"4\"\r\n                               checked={this.state.TabEtudes[4].value===1?true:false}\r\n                               onChange={this.handleChangeEtude}\r\n                        />\r\n                        <br/>\r\n                        <label htmlFor=\"Reconversion\">Reconversion</label>\r\n                        <input type=\"checkbox\"\r\n                               id=\"Reconversion\" \r\n                               name=\"Reconversion\"\r\n                               value=\"5\"\r\n                               checked={this.state.TabEtudes[5].value===1?true:false}\r\n                               onChange={this.handleChangeEtude}\r\n                        />\r\n                        <br/>\r\n                        <label htmlFor=\"saba\">Année sabatique</label>\r\n                        <input type=\"checkbox\"\r\n                               id=\"saba\" \r\n                               name=\"Sabatique\"\r\n                               value=\"6\"\r\n                               checked={this.state.TabEtudes[6].value===1?true:false}\r\n                               onChange={this.handleChangeEtude}\r\n                        />                                                                \r\n                      </div>\r\n                      <br/>\r\n                      <button onClick={() => this.handleClickOut()}>Fermer</button>\r\n                  </div>}\r\n\r\n              {/*--------------------------SAVE-------------------------- */}\r\n                <br/>\r\n                <button type=\"submit\">Sauvegarder</button>\r\n              </form>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default Filtre;\r\n","//https://api-adresse.data.gouv.fr/search/?q=Cergy&type=municipality&autocomplete=1\r\nimport React, { Component } from 'react';\r\n//import AdminCarte from '../AdminCarte/AdminCarte';\r\n//import {URL_API} from '../App';\r\n//import EditProfilePhoto from '../PhotosProfil/EditProfilePhoto';\r\n\r\n/**\r\n * Composant de test (Théo)\r\n * J'utilise ce composant à l'adresse /position afin d'effectuer \r\n * des tests pour savoir si il est cohérent de le rajouter\r\n * lors de l'inscription afin de recup les coordonnées GPS \r\n * pour pouvoir calculer la distance entre deux personnes\r\n * ------------------------------------------------------\r\n * Si tu veux tester un truc rapido, utilise cette page pour ne \r\n * pas tout casser ;)\r\n */\r\n\r\n //Faire affichage des 5 images et pouvoir les supprimer\r\n\r\nclass Position extends Component{\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        mdp:\"\",\r\n        couleur:\"red\",\r\n        compteur:0\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Mettre de lier l'écriture dans les champs aux valeurs correspondantes \r\n     * dans l'état du composant\r\n     * @param {event} event Ajout/Suppression d'un caractère dans un champs \r\n     */\r\n    inputChange(event) {\r\n      event.preventDefault();\r\n      /* Mise à jour des valeurs des inputs */\r\n      const { name, value } = event.target;\r\n      this.setState({\r\n        [name]: value\r\n      })\r\n      if(event.target.value.length>5){\r\n        this.verifStrength(event.target.value);\r\n      }else{\r\n        this.setState({\r\n          compteur:1\r\n        });\r\n      }\r\n    }\r\n\r\n    verifStrength(mdp){\r\n      const LETTRE_MIN=\"abcdefghijklmnopqrstuvwxyz\";\r\n      const LETTRE_MAJ=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n      const CHIFFRE=\"0123456789\";\r\n      let maj=0,min=0,chi=0,spe=0;\r\n      for(let i=0 ; i<mdp.length ; i++){\r\n        if(LETTRE_MIN.indexOf(mdp[i]) !== -1){\r\n          min=1;\r\n        }else if(LETTRE_MAJ.indexOf(mdp[i]) !== -1){\r\n          maj=1;\r\n        }else if(CHIFFRE.indexOf(mdp[i]) !== -1){\r\n          chi=1;\r\n        }else{\r\n          spe=1;\r\n        }\r\n      }\r\n      this.setState({\r\n        compteur:maj+min+chi+spe\r\n      });\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n      return(\r\n        <div style={{marginTop:\"20px\"}}>\r\n          <h2>Page de Test #Théo hehe</h2>\r\n          <form>\r\n          <div>\r\n              <div style={{display:\"flex\"}}>\r\n                <div style={{width:\"40px\",height:\"10px\",borderTopLeftRadius:\"30px\",borderBottomLeftRadius:\"30px\",background:\"linear-gradient(to right,#FF3737, #FFAD37)\"}}></div>\r\n                <div style={{width:\"40px\",height:\"10px\",background:(this.state.compteur>1?\"linear-gradient(to right,#FFAD37, #54FF48)\":\"#C7C3BD\")}}></div>\r\n                <div style={{width:\"40px\",height:\"10px\",background:(this.state.compteur>2?\"linear-gradient(to right,#54FF48,#48BCFF)\":\"#C7C3BD\")}}></div>\r\n                <div style={{width:\"40px\",height:\"10px\",background:(this.state.compteur>3?\"linear-gradient(to right,#48BCFF,#4872FF)\":\"#C7C3BD\"),borderTopRightRadius:\"30px\",borderBottomRightRadius:\"30px\"}}></div>\r\n              </div>\r\n              <input className=\"input\"\r\n                name=\"mdp\"\r\n                type=\"text\"\r\n                placeholder=\"Ton mdp\"\r\n                value={this.state.mdp}\r\n                onChange={event => this.inputChange(event)} \r\n              />\r\n            </div>\r\n          </form>\r\n          {/*<AdminCarte />*/}\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default Position;","import React, { Component } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport {URL_API} from '../App';\r\n\r\nconst throttle = (f) => {\r\n    let token = null, lastArgs = null;\r\n    const invoke = () => {\r\n        f(...lastArgs);\r\n        token = null;\r\n    };\r\n    const result = (...args) => {\r\n        lastArgs = args;\r\n        if (!token) {\r\n            token = requestAnimationFrame(invoke);\r\n        }\r\n    };\r\n    result.cancel = () => token && cancelAnimationFrame(token);\r\n    return result;\r\n};\r\n\r\nclass Draggable extends React.Component {\r\n _relX = 0;\r\n    _relY = 0;\r\n    _ref = React.createRef();\r\n    \r\n    _onMouseDown = (event) => {\r\n        if (event.button !== 0) {\r\n            return;\r\n        }\r\n        const {scrollLeft, scrollTop, clientLeft, clientTop} = document.body;\r\n        // Try to avoid calling `getBoundingClientRect` if you know the size\r\n        // of the moving element from the beginning. It forces reflow and is\r\n        // the laggiest part of the code right now. Luckily it's called only\r\n        // once per click.\r\n        const {left, top} = this._ref.current.getBoundingClientRect();\r\n        this._relX = event.pageX - (left + scrollLeft - clientLeft);\r\n        this._relY = event.pageY - (top + scrollTop - clientTop);\r\n        document.addEventListener('mousemove', this._onMouseMove);\r\n        document.addEventListener('mouseup', this._onMouseUp);\r\n        event.preventDefault();\r\n    };\r\n    \r\n    _onMouseUp = (event) => {\r\n        document.removeEventListener('mousemove', this._onMouseMove);\r\n        document.removeEventListener('mouseup', this._onMouseUp);\r\n        event.preventDefault();\r\n    };\r\n    \r\n    _onMouseMove = (event) => {\r\n        this.props.onMove(\r\n            event.pageX - this._relX,\r\n            event.pageY - this._relY,\r\n        );\r\n        event.preventDefault();\r\n    };\r\n    \r\n    _update = throttle(() => {\r\n        const {x, y} = this.props;\r\n        this._ref.current.style.transform = `translate(${x}px, ${y}px)`;\r\n    });\r\n    \r\n    componentDidMount() {\r\n        this._ref.current.addEventListener('mousedown', this._onMouseDown);\r\n        this._update();\r\n    }\r\n    \r\n    componentDidUpdate() {\r\n        this._update();\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        this._ref.current.removeEventListener('mousedown', this._onMouseDown);\r\n        this._update.cancel();\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"draggable\" ref={this._ref}>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Draggable","import React, { Component } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport {URL_API} from '../App';\r\n\r\nimport Draggable from './draggableMessagerie'\r\n\r\nclass ListMessages extends Component {\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        \tlist : \"\",\r\n        \tmessage : \"\",\r\n        \tmessages :\"\",\r\n        \tx: 100,\r\n        \ty: 200,\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n    \tthis.sendMessage = this.sendMessage.bind(this);\r\n    }\r\n\r\n    _move = (x, y) => this.setState({x, y});\r\n\r\n\tgetMessage(){\r\n\t\tconst axios = require('axios');  //Requêtes HTTP\r\n        let formdata = new FormData();\r\n        formdata.append('id',this.props.id);\r\n        formdata.append('id2',this.props.id2);\r\n\t\tconst url = URL_API+'getMessages.php';\r\n        axios.post(url,formdata)\r\n        .then(res => {\r\n        \tthis.setState({list : res.data});\r\n        })\r\n        \r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n   \t\tthis.affMessage();\r\n\r\n\t}\r\n\r\n\r\n\taffMessage(){\r\n\t\tlet ret = \"\";\r\n\t\tlet messages = this.state.list;\r\n\t\tmessages = messages.slice(0,-1);\r\n\t\tlet lmessages = messages.split(';');\r\n\t\tret = lmessages.map(el => <tr >\r\n\t\t\t\t\t\t\t\t\t<td><strong>from {el.split('-')[0]} : </strong></td>\r\n\t\t\t\t\t\t\t\t\t<td>{el.split('-')[1]}</td>\r\n\t\t\t\t\t\t\t\t  </tr>);\r\n\t\tthis.setState({messages : ret})\r\n\t}\r\n\r\n\t\r\n\r\n\tcomponentDidMount(){\r\n\t\t  this.interval = setInterval(() => this.getMessage(), 1000);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tconsole.log(event.target.value)\r\n  \t    this.setState({message: event.target.value});\r\n\t}\r\n\r\n\tsendMessage(event){\r\n\t\tevent.preventDefault();\r\n\t\tconst axios = require('axios');  //Requêtes HTTP\r\n\t\tlet config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\")\r\n            }\r\n        }\r\n        let formdata = new FormData();\r\n        formdata.append('id',this.props.id);\r\n        formdata.append('id2',this.props.id2);\r\n        formdata.append('message',this.state.message)\r\n        this.setState({message : \"\"})\r\n\t\tconst url = URL_API+'sendMessage.php';\r\n        axios.post(url,formdata,config)\r\n        .then(res => {\r\n        \tconsole.log(res.data);\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n\t}\r\n\r\n\trender() {\r\n        const {x, y} = this.state;\r\n\t\t\r\n\t\treturn(\r\n\r\n\t\t<Draggable x={x} y={y} onMove={this._move}>\r\n\t\t\t<table>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{this.state.messages}\t\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\t\r\n\t\t\t<form onSubmit={event => this.sendMessage(event)}>\r\n\t\t\t\t\t<input type=\"text\" value={this.state.message} name=\"message\" onChange={this.handleChange} />\r\n\t\t\t\t\t<input type=\"submit\" />\r\n\t\t\t</form>\r\n\r\n\t\t</Draggable>\r\n\r\n\r\n\r\n\t\t)\r\n\t}\r\n\r\n\r\n}\r\n\r\nexport default ListMessages","import React, { Component } from 'react';\r\nimport Cookies from 'js-cookie';\r\n\r\nimport {URL_API} from '../App';\r\nimport ListMessages from './message'\r\n\r\n\r\nclass ListMatch extends Component {\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        \t\tlist : \"\",\r\n        \t\tshow : 0,\r\n        \t\tid : 0,\r\n        \t\tid2: 0,\r\n        }\r\n    }\r\n\r\n\r\n\tloadMyMatch(){\r\n\t\tconst axios = require('axios');  //Requêtes HTTP\r\n\t\tlet config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\")\r\n            }\r\n        }\r\n        let formdata = new FormData();\r\n\t\tconst url = URL_API+'nbrMatch.php';\r\n        axios.post(url,formdata,config)\r\n        .then(res => {\r\n        \tthis.setState({list : res.data});\r\n        })\r\n        \r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n\t}\r\n\r\n\tgetname(){\r\n\r\n\t}\r\n\r\n\thandleClick(id,id2){\r\n\t\tthis.setState({show : 1});\r\n\t\tthis.setState({id : id});\r\n\t\tthis.setState({id2 : id2})\r\n\t}\r\n\r\n\taffMatch() {\t\t\r\n\t\tlet ret = \"\";\r\n\t\tlet match = this.state.list;\r\n\t\tmatch = match.slice(0,-1);\r\n\t\tlet lmatch = match.split(';');\r\n\t\tret = lmatch.map(el => <tr style={{border:\"solid black 2px\",borderRadius : '10px'}} onClick={ () => {this.handleClick(el.split('-')[0],el.split('-')[1])}}>\r\n\t\t\t\t\t\t\t\t\t<td>{el.split('-')[0]}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{el.split('-')[1]}</td>\r\n\t\t\t\t\t\t\t\t</tr>);\r\n\t\treturn (\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody> \r\n\t\t\t\t\t\t{ret}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.loadMyMatch()\r\n\t}\r\n  \t\r\n\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t\r\n\t\t\t<div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"listeMatch\" >\r\n\t\t\t\t\t{this.affMatch()}\t\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.state.show == 1 &&\r\n\t\t\t\t\t<ListMessages id={this.state.id} id2={this.state.id2} />\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default ListMatch;","import React, { Component } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport {Card, Carousel} from 'react-bootstrap';\r\nimport {URL_API} from '../App';\r\nimport { getDistance } from 'geolib';\r\n\r\n/**\r\n * Composant qui affiche un.e prétendant.e\r\n * en fonction de this.props.hisId et Cookies.get('ID')\r\n */\r\n\r\nclass CardId extends Component{//this.props.hisId\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          tabImage : [false,false,false,false,false],//Possession image 1,2,3,4,5\r\n          tabInfo : [\r\n            'Bob', //0 Prénom\r\n            18,//1 Age\r\n            0,//2 Distance en km faut l'id du gars\r\n            \"C'est moi :)\",//3 Bio\r\n            \"none\",//4 Etude\r\n            100,//5 Taille en cm\r\n            \"none\",//6 Yeux\r\n            \"none\",//7 Cheveux\r\n            \"none\",//8 Sport\r\n            \"none\",//9 Alcool\r\n            \"none\",//10 Tabac\r\n            \"none\",//11 Animaux\r\n            \"none\",//12 Religion\r\n            \"none\"//13 Signe Astro\r\n          ],\r\n          certif:\"0\",\r\n          oldId:\"0\"\r\n        };\r\n      }\r\n\r\n    componentDidMount(){\r\n        this.initTabsState();\r\n    }\r\n\r\n    componentDidUpdate(props){\r\n        if(this.state.oldId!==this.props.hisId){//Si l'id a changé\r\n        this.initTabsState();\r\n        }\r\n    }\r\n\r\n    initTabsState(){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'getPreferenceCard.php?id='+this.props.hisId+'&info=yes&certif=yes&myId='+Cookies.get('ID');\r\n          axios.get(url)\r\n          .then(res => {\r\n            this.setState({\r\n                tabImage:[\r\n                    res.data.tabImage[0],\r\n                    res.data.tabImage[1],\r\n                    res.data.tabImage[2],\r\n                    res.data.tabImage[3],\r\n                    res.data.tabImage[4]\r\n                ],\r\n                tabInfo:[\r\n                    res.data.tabPref[0],\r\n                    this.ageCalcul(res.data.tabPref[1]),\r\n                    parseInt(this.calculDistance(res.data.myCoor,res.data.tabPref[2])/1000,10),//a calculer avec l'id actuel\r\n                    res.data.tabPref[3],\r\n                    res.data.tabPref[4],\r\n                    res.data.tabPref[5],\r\n                    res.data.tabPref[6],\r\n                    res.data.tabPref[7],\r\n                    res.data.tabPref[8],\r\n                    res.data.tabPref[9],\r\n                    res.data.tabPref[10],\r\n                    res.data.tabPref[11],\r\n                    res.data.tabPref[12],\r\n                    res.data.tabPref[13]\r\n                ],\r\n                certif:res.data.certif,\r\n                oldId:this.props.hisId\r\n            });\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n    }\r\n\r\n    calculDistance(coor1,coor2){\r\n        if(coor1!==undefined && coor2!==0){\r\n            const tabCoor1 = coor1.split(';');\r\n            const tabCoor2 = coor2.split(';');\r\n            return(getDistance(\r\n                { latitude: tabCoor1[1], longitude: tabCoor1[0] },\r\n                { latitude: tabCoor2[1], longitude: tabCoor2[0] }\r\n            ));\r\n        }\r\n    }\r\n\r\n    ageCalcul(birthday){\r\n        let dateActu = new Date();\r\n        let dateBirth = new Date(birthday);\r\n        let age = dateActu.getFullYear()-dateBirth.getFullYear();\r\n        if((dateBirth.getMonth()-dateActu.getMonth())>0){age--;}\r\n        else if((dateBirth.getMonth()===dateActu.getMonth()) && (dateBirth.getDate()-dateActu.getDate()>0)){age--;}\r\n        return(age);\r\n    }\r\n\r\n    render(){\r\n      return(\r\n        <div>\r\n            {/* width obligatoire pour réguler la taille des images */}\r\n          <Card style={{width: \"350px\",borderRadius:\"15px\"}}>\r\n          <Carousel key={this.props.hisId}>\r\n                {(!this.state.tabImage[0] && \r\n                !this.state.tabImage[1] && \r\n                !this.state.tabImage[2] &&\r\n                !this.state.tabImage[3] &&\r\n                !this.state.tabImage[4]) &&\r\n                <Carousel.Item>\r\n                <img\r\n                    style={{borderTopRightRadius:\"15px\",borderTopLeftRadius:\"15px\"}}\r\n                    className=\"d-block w-100\"\r\n                    src=\"https://projetsiteeisti.yj.fr/imageProfil/0.png\"\r\n                    alt=\"Pas de png de profil\"\r\n                />\r\n                </Carousel.Item>\r\n                }{this.state.tabImage[0] && \r\n                    <Carousel.Item>\r\n                        <img\r\n                        style={{borderTopRightRadius:\"15px\",borderTopLeftRadius:\"15px\"}}\r\n                        className=\"d-block w-100\"\r\n                        src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+this.state.oldId+\"-1.png\"}\r\n                        alt=\"Profile 1\"\r\n                        />\r\n                    </Carousel.Item>\r\n                }{this.state.tabImage[1] && \r\n                    <Carousel.Item>\r\n                        <img\r\n                        style={{borderTopRightRadius:\"15px\",borderTopLeftRadius:\"15px\"}}\r\n                        className=\"d-block w-100\"\r\n                        src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+this.state.oldId+\"-2.png\"}\r\n                        alt=\"Profile 2\"\r\n                        />\r\n                    </Carousel.Item>\r\n                }{this.state.tabImage[2] && \r\n                    <Carousel.Item>\r\n                        <img\r\n                        style={{borderTopRightRadius:\"15px\",borderTopLeftRadius:\"15px\"}}\r\n                        className=\"d-block w-100\"\r\n                        src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+this.state.oldId+\"-3.png\"}\r\n                        alt=\"Profile 3\"\r\n                        />\r\n                    </Carousel.Item>\r\n                }{this.state.tabImage[3] && \r\n                    <Carousel.Item>\r\n                        <img\r\n                        style={{borderTopRightRadius:\"15px\",borderTopLeftRadius:\"15px\"}}\r\n                        className=\"d-block w-100\"\r\n                        src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+this.state.oldId+\"-4.png\"}\r\n                        alt=\"Profile 4\"\r\n                        />\r\n                    </Carousel.Item>\r\n                }{this.state.tabImage[4] && \r\n                    <Carousel.Item>\r\n                        <img\r\n                        style={{borderTopRightRadius:\"15px\",borderTopLeftRadius:\"15px\"}}\r\n                        className=\"d-block w-100\"\r\n                        src={\"https://projetsiteeisti.yj.fr/imageProfil/\"+this.state.oldId+\"-5.png\"}\r\n                        alt=\"Profile 5\"\r\n                        />\r\n                    </Carousel.Item>\r\n                }\r\n            </Carousel>\r\n            <Card.Body style={{overflowY: \"scroll\",height:\"25vh\"}}>\r\n                {/* Ici mettre bio et certaines caractéristiques */}\r\n                <Card.Title>{this.state.tabInfo[0]+\", \"+this.state.tabInfo[1]+\"ans \"}\r\n                {this.state.certif===\"1\" &&\r\n                    <svg className=\"bi bi-tag-fill\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path fillRule=\"evenodd\" d=\"M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\r\n                    </svg>\r\n                }\r\n                </Card.Title>\r\n                <Card.Subtitle>à {this.state.tabInfo[2]} km</Card.Subtitle>\r\n                <Card.Text>{this.state.tabInfo[3]}</Card.Text>\r\n                {/* Peut-être faire fiche technique que pour premium */}\r\n                <Card.Subtitle>Ma fiche technique : </Card.Subtitle>\r\n                <Card.Text>\r\n                        <strong>Taille : </strong>{this.state.tabInfo[5]/100} m<br/>\r\n                        {this.state.tabInfo[4]!==\"none\" && <><strong>Etude : </strong>{this.state.tabInfo[4]}<br/></>}\r\n                        {this.state.tabInfo[6]!==\"none\" && <><strong>Yeux : </strong>{this.state.tabInfo[6]}<br/></>}\r\n                        {this.state.tabInfo[7]!==\"none\" && <><strong>Cheveux : </strong>{this.state.tabInfo[7]}<br/></>}\r\n                        {this.state.tabInfo[8]!==\"none\" && <><strong>Sport : </strong>{this.state.tabInfo[8]}<br/></>}\r\n                        {this.state.tabInfo[9]!==\"none\" && <><strong>Alcool : </strong>{this.state.tabInfo[9]}<br/></>}\r\n                        {this.state.tabInfo[10]!==\"none\" && <><strong>Tabac : </strong>{this.state.tabInfo[10]}<br/></>}\r\n                        {this.state.tabInfo[11]!==\"none\" && <><strong>Animaux : </strong>{this.state.tabInfo[11]}<br/></>}\r\n                        {this.state.tabInfo[12]!==\"none\" && <><strong>Religion : </strong>{this.state.tabInfo[12]}<br/></>}\r\n                        {this.state.tabInfo[13]!==\"none\" && <><strong>Signe astrologique : </strong>{this.state.tabInfo[13]}<br/></>}\r\n                </Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n     </div>\r\n     );\r\n    }\r\n}\r\n\r\nexport default CardId;","import React, { Component } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {URL_API} from '../App';\r\nimport ListMatch from '../messagerie/listeMatch';\r\nimport CardId from '../CardId/CardId';\r\nimport {Card} from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Pageprincipale extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            connected: true, //true : utilisateur connecté; false : utilisateur non connecté\r\n            pref:false, //Passe à true lorsque l'utilisateur clique sur preference\r\n            tabPersonne:null,\r\n            currentIndex:0,\r\n            loaded:false,\r\n            panel:false,\r\n            grade:\"\"\r\n        }\r\n      }\r\n    \r\n    /**\r\n     * Page mise à jour\r\n     */\r\n    componentDidMount(){\r\n        /* Vérif des cookies ID et KEY */\r\n        this.loadTableauPersonne();\r\n        this.verifConnexion();\r\n    }\r\n\r\n    createMatch(idAutre){\r\n\t\tconst axios = require('axios');  //Requêtes HTTP\r\n\t\tlet formdata = new FormData();\r\n\t\tlet config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n\t\tformdata.append(\"id2\",idAutre);\r\n        const url = URL_API+'newDisc.php';\r\n        axios.post(url,formdata,config)\r\n        .then(res => {\r\n            console.log(\"Réponse newMatch: \"+res.data);\r\n            if(res.data=='1'){\r\n              /**Faire une animation de MATTTTCHH IIICIII \r\n               * kiss kiss Juliente (avec accent espagnol pour le Juliente)\r\n               */\r\n                alert(\"Match\");\r\n                this.setState({\r\n                    currentIndex:this.state.currentIndex+1\r\n                });\r\n              this.setState({alertShow: true});\r\n            }else if(res.data == '2'){\r\n            \tconsole.error(\"vous n'avez pas l'air d'etre connecté\");\r\n            }else{\r\n            \tconsole.error('Problème dans le retour de l\\'API/newUser.');\r\n\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n\t}\r\n\r\n    dislike(){\r\n        const url = URL_API+'addDislike.php?id='+this.state.tabPersonne[this.state.currentIndex].id;\r\n        const axios = require('axios').default;  //Requêtes HTTP\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            if(res.data.connected){ //Mise à jour de connected si réponse négative\r\n                if(res.data.dislikes!==\"echec\"){\r\n                    this.setState({\r\n                        currentIndex:this.state.currentIndex+1\r\n                    });\r\n                }\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    like(){\r\n        const url = URL_API+'addLike.php?id='+this.state.tabPersonne[this.state.currentIndex].id;\r\n        const axios = require('axios').default;  //Requêtes HTTP\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            if(res.data.connected){ //Mise à jour de connected si réponse négative\r\n                if(res.data.likes!==\"echec\"){\r\n                    if(res.data.acceptedLike){\r\n                        if(res.data.match){\r\n                            this.createMatch(this.state.tabPersonne[this.state.currentIndex].id);\r\n                        }else{\r\n                            this.setState({\r\n                                currentIndex:this.state.currentIndex+1\r\n                            });\r\n                        }\r\n                    }else{\r\n                        alert(\"Tu n'as plus de like, abonnez-vous ou revenez demain :)\");\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    loadTableauPersonne(){\r\n        const url = URL_API+'getTabPersonne.php';\r\n        const axios = require('axios').default;  //Requêtes HTTP\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            if(res.data.connected){ //Mise à jour de connected si réponse négative\r\n                this.setState({\r\n                    tabPersonne:res.data.tab,\r\n                    currentIndex:0,\r\n                    loaded:true\r\n                });\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n    \r\n    /**\r\n     * Met à jour l'état connected selon la véracité \r\n     * du couple (Cookie.get(\"ID\"),Cookie.get(\"KEY\"))\r\n     */\r\n    verifConnexion() {\r\n        /* A executer à chaque fois que l'on veut utiliser l'id :\r\n            this.verifConnexion();\r\n            if(this.state.connected){\r\n                alors on est assuré de l'identité du user\r\n            }*/\r\n        const url = URL_API+'isConnected.php';\r\n        const axios = require('axios').default;  //Requêtes HTTP\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            console.log(\"Connecté ? \"+res.data.connect); //Réponse dans la console\r\n            if(!res.data.connect){ //Mise à jour de connected si réponse négative\r\n                this.setState({\r\n                    connected:false,\r\n                });\r\n            }else{\r\n                this.setState({\r\n                    grade:res.data.grade\r\n                });\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n        if(!(Cookies.get(\"ID\")>0)){//Si Cookies.get(\"ID\") n'existe pas on se déconnecte\r\n            this.setState({\r\n                connected:false\r\n            })\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Déconnecte l'utilisateur en changeant l'état connected\r\n     */\r\n    deconnect(){\r\n        Cookies.remove(\"ID\");//Supression du cookie\r\n        Cookies.remove(\"KEY\");//Suppression du cookie\r\n        this.setState({\r\n            connected:false\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Test le couple (ID,KEY) en \r\n     * appelant la fonction verifConnexion()\r\n     */\r\n    test(){\r\n        this.verifConnexion();\r\n    }\r\n\r\n\r\n    /**\r\n     * Rendu\r\n     */\r\n    render(){\r\n        /* Utilisateur redirigé si non connecté */\r\n        if(!this.state.connected){\r\n            Cookies.remove(\"ID\");//Supression du cookie\r\n            Cookies.remove(\"KEY\");//Suppression du cookie\r\n            return (<Redirect to='/'/>); //Renvoi à la page de connexion\r\n        }else if(this.state.pref){\r\n            return (<Redirect to='/preference'/>);//Renvoi à la page des preferences\r\n        }else if(this.state.panel){\r\n            return (<Redirect to='/panel'/>);//Renvoi à la page du panel administrateur\r\n        }\r\n      return(\r\n\r\n        <div className=\"container-fluid margetop18\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg\">\r\n                    <button \r\n                    className=\"btn-accueil\" \r\n                    onClick={() => this.deconnect()}\r\n                    >Déconnexion\r\n                    </button>\r\n                </div>\r\n                {this.state.grade ===\"administrateur\" &&\r\n                <button \r\n                    className=\"btn-accueil\" \r\n                    onClick={() => this.setState({panel:true})}>\r\n                    Panel administrateur\r\n                </button>\r\n                }\r\n                \r\n\r\n                <div className=\"col-lg\">\r\n                    <button \r\n                    className=\"btn-accueil\" \r\n                    onClick={() => this.test()}\r\n                    >Tester (id,key)\r\n                    </button>\r\n                </div>\r\n                 <div className=\"col-lg\">\r\n                    <div>\r\n                        <button className=\"btn btn-danger\" ><Link to=\"/mesmatch\">mes match</Link></button>\r\n                    </div>\r\n                </div>\r\n                {(this.state.tabPersonne!==null && this.state.tabPersonne.length > this.state.currentIndex) && \r\n                    <>\r\n                    <button \r\n                        className=\"btn-accueil\" \r\n                        style={{backgroundColor:\"#48FF5B\",height:\"50%\"}}\r\n                        onClick={() => this.like()}>\r\n                            Like\r\n                    </button>\r\n                    {(this.state.currentIndex!==null && this.state.loaded) &&\r\n                        <>\r\n                        <CardId hisId={this.state.tabPersonne[this.state.currentIndex].id}/>\r\n                        </>\r\n                    }\r\n                    <button \r\n                        className=\"btn-accueil\" \r\n                        style={{backgroundColor:\"#FF5B48\",height:\"50%\"}}\r\n                        onClick={() => this.dislike()}>\r\n                            Dislike\r\n                    </button>\r\n                    </>\r\n                }\r\n                {(this.state.tabPersonne!==null && this.state.tabPersonne.length <= this.state.currentIndex) && \r\n                    <>\r\n                    <button \r\n                        className=\"btn-accueil\" \r\n                        style={{backgroundColor:\"#48FF5B\",height:\"50%\"}}\r\n                        disabled>\r\n                            Like\r\n                    </button>\r\n                    <Card>\r\n                        <Card.Title>Wow quelle énergie !</Card.Title>\r\n                        <Card.Text>Vous avez épuisé tout notre stock de partenaire</Card.Text>\r\n                        <Card.Text>Revenez plus tard </Card.Text>\r\n                        <Card.Text>\r\n                            <svg className=\"bi bi-emoji-smile-upside-down\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path fillRule=\"evenodd\" d=\"M8 1a7 7 0 1 1 0 14A7 7 0 0 1 8 1zm0-1a8 8 0 1 1 0 16A8 8 0 0 1 8 0z\"/>\r\n                                <path fillRule=\"evenodd\" d=\"M4.285 6.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 4.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 3.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683z\"/>\r\n                                <path d=\"M7 9.5C7 8.672 6.552 8 6 8s-1 .672-1 1.5.448 1.5 1 1.5 1-.672 1-1.5zm4 0c0-.828-.448-1.5-1-1.5s-1 .672-1 1.5.448 1.5 1 1.5 1-.672 1-1.5z\"/>\r\n                            </svg>\r\n                        </Card.Text>\r\n                    </Card>\r\n                    <button \r\n                        className=\"btn-accueil\" \r\n                        style={{backgroundColor:\"#FF5B48\",height:\"50%\"}}\r\n                        disabled>\r\n                            Dislike\r\n                    </button>\r\n                    </>\r\n                }\r\n                <button \r\n                    className=\"btn-accueil\" \r\n                    onClick={() => this.setState({pref:true})}>\r\n                        Preferences\r\n                </button>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\n\r\nexport default Pageprincipale;\r\n\r\n","import React, { Component } from 'react';\r\n\r\nclass About extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n      }\r\n\r\n    render(){\r\n      return(\r\n        <div style={{marginTop:\"20%\"}}>\r\n          <h2>About us</h2>\r\n          <p>Je suis la page About</p>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default About;","import React, { Component } from 'react';\r\n\r\nclass Contact extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n      }\r\n\r\n    render(){\r\n      return(\r\n        <div style={{marginTop:\"20%\"}}>\r\n          <h2>Contact</h2>\r\n          <p>Je suis la page Contact</p>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default Contact;","import React, { Component } from 'react';\r\nimport {URL_API} from '../App';\r\nimport Cookies from 'js-cookie';\r\n\r\nclass TableauCarteId extends Component{\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n          tabID: this.props.Tableau,\r\n          Actuel:{Prenom:\"\",Nom:\"\",Id:\"\",Extension:\"\"}\r\n      };\r\n    }\r\n\r\n    reset(){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'getTabCarteEtudiante.php';\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            if(res.data.connected){ //Mise à jour de connected si réponse positive \r\n                console.log(res.data.tab);\r\n                this.props.updateTab(res.data.tab);\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    openCarte(){\r\n        window.open(\"https://projetsiteeisti.yj.fr/imageCarteEtudiante/\"+this.state.Actuel.Id+\".\"+this.state.Actuel.Extension);\r\n    }\r\n\r\n    certificate(){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'setCertif.php?id='+this.state.Actuel.Id+\"&img=\"+this.state.Actuel.Extension;\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            if(res.data.connected){ //Mise à jour de connected si réponse positive \r\n                console.log(\"Profil certifié ! \");\r\n                this.reset();\r\n            }else{\r\n                console.log(\"Erreur lors de la certification du profil.\");\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    deleteCarte(){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'delCarteEtudiante.php?id='+this.state.Actuel.Id+\"&img=\"+this.state.Actuel.Extension;\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            if(res.data.connected){ //Mise à jour de connected si réponse positive \r\n                console.log(\"Carte étudiante supprimée ! \");\r\n                this.reset();\r\n            }else{\r\n                console.log(\"Erreur lors de la suppression de la carte étudiante.\");\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    alertId(el){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'getExtensionCarte.php?id='+el.Id;\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            if(res.data.connected){ //Mise à jour de connected si réponse positive \r\n                this.setState({\r\n                    Actuel:{\r\n                        Prenom:el.Prenom,\r\n                        Nom:el.Nom,\r\n                        Id:el.Id,\r\n                        Extension:res.data.extension\r\n                    }\r\n                });\r\n                console.log(el.Prenom+\" \"+el.Nom+\" sélectionné !\");\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    PropsToTabHTML(){\r\n    let res;\r\n    if(this.props.Tableau!=null && this.props.Tableau.length>0){\r\n        res = this.props.Tableau.map(el => <tr key={el.Id}><td>{el.Prenom}</td><td>{el.Nom}</td><td><button onClick={() => this.alertId(el)}>{el.Id}</button></td></tr>);\r\n        return res;\r\n    }else{\r\n        return(<tr><td colSpan=\"3\">Plus de carte à valider</td></tr>)\r\n    }\r\n    }\r\n\r\n\r\n    render(){\r\n      return(\r\n        <div style={{marginTop:\"20px\"}}>\r\n            <h2>Gestion des cartes étudiantes</h2>\r\n            <table style={{border:\"thin solid black\"}}>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Prénom</th>\r\n                        <th>Nom</th>\r\n                        <th>ID</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.PropsToTabHTML()}\r\n                </tbody>\r\n            </table>\r\n            {this.state.Actuel.Prenom!==\"\" &&\r\n            <>\r\n            <button onClick={() => this.openCarte()}>Voir carte étudiante</button>\r\n            <button style={{backgroundColor:\"#48FF5B\"}} onClick={() => this.certificate()}>Certifier</button>\r\n            <button style={{backgroundColor:\"#FF5B48\"}} onClick={() => this.deleteCarte()}>Re-demander</button>\r\n            </>\r\n            }\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default TableauCarteId;","import React, { Component } from 'react';\r\nimport {URL_API} from '../App';\r\nimport Cookies from 'js-cookie';\r\n\r\nclass TableauManage extends Component{\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n          tabID: this.props.Tableau,\r\n          Actuel:{Prenom:\"\",Nom:\"\",Id:\"\"}\r\n      };\r\n    }\r\n\r\n    reset(){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'getTabCarteEtudiante.php?account=yes';\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            if(res.data.connected){ //Mise à jour de connected si réponse positive \r\n                console.log(res.data.tab);\r\n                this.props.updateTab(res.data.tab);\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    alertId(el){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'getExtensionCarte.php?id='+el.Id;\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        axios.get(url,config)\r\n        .then(res => {\r\n            if(res.data.connected){ //Mise à jour de connected si réponse positive \r\n                this.setState({\r\n                    Actuel:{\r\n                        Prenom:el.Prenom,\r\n                        Nom:el.Nom,\r\n                        Id:el.Id\r\n                    }\r\n                });\r\n                console.log(el.Prenom+\" \"+el.Nom+\" sélectionné !\");\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    PropsToTabHTML(){\r\n    let res;\r\n    if(this.props.Tableau!=null && this.props.Tableau.length>0){\r\n        res = this.props.Tableau.map(el => <tr key={el.Id}><td>{el.Prenom}</td><td>{el.Nom}</td><td><button onClick={() => this.alertId(el)}>{el.Id}</button></td></tr>);\r\n        return res;\r\n    }else{\r\n        return(<tr><td colSpan=\"3\">Plus de carte à valider</td></tr>)\r\n    }\r\n    }\r\n\r\n    deleteAccount(){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'manageAccount.php';\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        let formData = new FormData();\r\n        formData.append('id',this.state.Actuel.Id);\r\n        formData.append('supprCompte',\"yes\");\r\n        axios.post(url,formData,config)\r\n        .then(res => {\r\n            if(res.data.connected){\r\n                console.log(res.data);\r\n                alert(\"Compte \"+this.state.Actuel.Id+\" supprimé !\");\r\n                this.reset();\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    certificate(){\r\n        const axios = require('axios');  //Requêtes HTTP\r\n        const url = URL_API+'manageAccount.php';\r\n        let config = {\r\n            headers: {\r\n            logginid: Cookies.get(\"ID\"),\r\n            logginkey: Cookies.get(\"KEY\")\r\n            }\r\n        }\r\n        let formData = new FormData();\r\n        formData.append('id',this.state.Actuel.Id);\r\n        formData.append('operation','certif');\r\n        axios.post(url,formData,config)\r\n        .then(res => {\r\n            if(res.data.connected){\r\n                console.log(res.data);\r\n                console.log(\"Compte \"+this.state.Actuel.Id+\" certifié !\");\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    render(){\r\n      return(\r\n        <div style={{marginTop:\"20px\"}}>\r\n            <h2>Gestion des comptes</h2>\r\n            <table style={{border:\"thin solid black\"}}>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Prénom</th>\r\n                        <th>Nom</th>\r\n                        <th>ID</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.PropsToTabHTML()}\r\n                </tbody>\r\n            </table>\r\n            {this.state.Actuel.Prenom!==\"\" &&\r\n            <>\r\n            <button style={{backgroundColor:\"#48FF5B\"}} onClick={() => this.certificate()}>Certifier</button>\r\n            <button style={{backgroundColor:\"#FF5B48\"}} onClick={() => this.deleteAccount()}>Supprimer le compte</button>\r\n            </>\r\n            }\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default TableauManage;","import React, { Component } from 'react';\r\nimport TableauCarteId from './TableauCarteId';\r\nimport {URL_API} from '../App';\r\nimport Cookies from 'js-cookie';\r\nimport TableauManage from './TableauManage';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass AdminCarte extends Component{\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        allowed:true,\r\n        loaded:false,\r\n        array:null,\r\n        buttonLabel:\"Gérer les comptes\"\r\n      };\r\n    }\r\n\r\n    componentDidMount(){\r\n      this.setPropsTableau();\r\n    }\r\n\r\n    updateTab = (newArray) => {\r\n      this.setState({\r\n        array: newArray\r\n      });\r\n    }\r\n\r\n    verifPermission(){\r\n      const axios = require('axios');  //Requêtes HTTP\r\n      const url = URL_API+'isConnected.php';\r\n      let config = {\r\n          headers: {\r\n          logginid: Cookies.get(\"ID\"),\r\n          logginkey: Cookies.get(\"KEY\")\r\n          }\r\n      }\r\n      axios.get(url,config)\r\n      .then(res => {\r\n          if(!(res.data.connect && res.data.grade===\"administrateur\")){ //Mise à jour de connected si réponse positive \r\n            this.setState({allowed:false});\r\n          }\r\n      })\r\n      .catch(err => {\r\n          console.log(err);\r\n      });\r\n    }\r\n\r\n    setPropsTableau(){\r\n      const axios = require('axios');  //Requêtes HTTP\r\n      const url = URL_API+'getTabCarteEtudiante.php';\r\n      let config = {\r\n          headers: {\r\n          logginid: Cookies.get(\"ID\"),\r\n          logginkey: Cookies.get(\"KEY\")\r\n          }\r\n      }\r\n      axios.get(url,config)\r\n      .then(res => {\r\n          if(res.data.connected){ //Mise à jour de connected si réponse positive \r\n            console.log(res.data.tab);\r\n            this.setState({\r\n              array:res.data.tab,\r\n              loaded:true\r\n            });       \r\n            this.verifPermission();\r\n          }\r\n      })\r\n      .catch(err => {\r\n          console.log(err);\r\n      });\r\n    }\r\n\r\n    setComtpeTableau(){\r\n      const axios = require('axios');  //Requêtes HTTP\r\n      const url = URL_API+'getTabCarteEtudiante.php?account=yes';\r\n      let config = {\r\n          headers: {\r\n          logginid: Cookies.get(\"ID\"),\r\n          logginkey: Cookies.get(\"KEY\")\r\n          }\r\n      }\r\n      axios.get(url,config)\r\n      .then(res => {\r\n          if(res.data.connected){ //Mise à jour de connected si réponse positive \r\n            console.log(res.data.tab);\r\n            this.setState({\r\n              array:res.data.tab,\r\n              loaded:true\r\n            });\r\n          }\r\n      })\r\n      .catch(err => {\r\n          console.log(err);\r\n      });\r\n    }\r\n\r\n    buttonSwap(){\r\n      if(this.state.buttonLabel===\"Gérer les comptes\"){\r\n        this.setState({\r\n          buttonLabel: \"Gérer les certifications\"\r\n        });\r\n        this.setComtpeTableau();\r\n      }else{\r\n        this.setState({\r\n          buttonLabel: \"Gérer les comptes\"\r\n        });\r\n        this.setPropsTableau();\r\n      }\r\n    }\r\n\r\n    render(){\r\n      if(!this.state.allowed){\r\n        return(<Redirect to='/principale'/>);\r\n      }\r\n      return(\r\n        <div style={{marginTop:\"20px\"}}>\r\n          <h1>Panel administrateur</h1>\r\n          <button onClick={() => this.buttonSwap()} style={{height:\"70px\",width:\"200px\"}}>{this.state.buttonLabel}</button>\r\n          {(this.state.loaded && this.state.buttonLabel===\"Gérer les comptes\") && \r\n          <TableauCarteId Tableau={this.state.array} updateTab={this.updateTab}/>\r\n          }\r\n          {(this.state.loaded && this.state.buttonLabel===\"Gérer les certifications\") && \r\n          <TableauManage Tableau={this.state.array} updateTab={this.updateTab}/>\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default AdminCarte;","import React from 'react';\r\nimport './App.css';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport NavBar from './NavBar/NavBar';\r\nimport Accueil from './Accueil/Acceuil';\r\nimport Preference from './Profil/Preference';\r\nimport Filtre from './Profil/Filtre';\r\nimport Position from './Position/Position';\r\nimport Pageprincipale from './Pageprincipale/Pageprincipale';\r\nimport About from './About/About'\r\nimport Contact from './Contact/Contact';\r\nimport AdminCarte from './AdminCarte/AdminCarte';\r\nimport ListMatch from './messagerie/listeMatch';\r\n\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <HashRouter basename={\"/\"}>\r\n        <div className=\"App\">\r\n          <NavBar />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={Accueil} />\r\n            <Route path=\"/preference\" exact component={Preference} />\r\n            <Route path=\"/panel\" exact component={AdminCarte} />\r\n            <Route path=\"/filtre\" exact component={Filtre} />\r\n            <Route path=\"/position\" exact component={Position} />\r\n            <Route path=\"/principale\" exact component={Pageprincipale} />\r\n            <Route path=\"/about\" component={About} />\r\n            <Route path=\"/contact\" component={Contact} />\r\n            <Route path=\"/mesmatch\" component={ListMatch} />\r\n\r\n          </Switch>\r\n          \r\n        </div>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default App;\r\n\r\n//J'ai enlevé le fichier projet-web_bdd et mis les fichiers dans /src/api\r\nexport const URL_API = 'https://projetsiteeisti.yj.fr/api/';\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}